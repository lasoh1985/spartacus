!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.ProfiletagConfig=void 0;var r=n(29),i=r.env.baseUrl,o=function(){var e=window.Y_TRACKING&&window.Y_TRACKING.q&&window.Y_TRACKING.q[0][0]||{};this.environment=r.env.env,this.tenant=e.tenant,this.maxEvents=50,this.configUrl=e.configUrl,this.allowInsecureCookies=e.allowInsecureCookies,this.gtmId=e.gtmId,this.siteId=e.siteId,this.cdsSiteId=e.cdsSiteId,this.baseUrl=i,this.basePiwikUrl="https://"+this.tenant+"."+this.baseUrl+"/edge/",this.optInUrl="https://"+this.tenant+"."+this.baseUrl+"/consent/",this.spa=e.spa||!1,this.profileTagEventReceiver=e.profileTagEventReceiver};t.ProfiletagConfig=o,t.config=new o},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.error=t.log=t.warn=t.info=t.init=t.disable=t.enable=t.isDebugEnabled=void 0;var i=n(2),o=n(11);function a(){return"true"===sessionStorage[u]}function s(){i.INJECTOR.getInstance(o.EVENT_DISPATCHER_TOKEN).dispatchDebugFlagChanged(!0),sessionStorage[u]=!0,f("info","Profile Tag debug mode has been enabled.")}function c(){i.INJECTOR.getInstance(o.EVENT_DISPATCHER_TOKEN).dispatchDebugFlagChanged(!1),sessionStorage[u]=!1,f("info","Profile Tag debug mode has been disabled.")}t.isDebugEnabled=a,t.enable=s,t.disable=c,t.init=function(){"undefined"!=typeof Storage&&(l("false")?c():l("true")&&s())},t.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a()&&f.apply(void 0,r(["info"],e))},t.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a()&&f.apply(void 0,r(["warn"],e))},t.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a()&&f.apply(void 0,r(["log"],e))},t.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a()&&f.apply(void 0,r(["error"],e))};var u="profileTagDebug";function l(e){return window.location.search.toLowerCase().includes(u.toLowerCase()+"="+e.toLowerCase())}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console[e].apply(console,r(["[Profile Tag]"],t))}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.INJECTOR=void 0;var i=function(){function e(){this.registrations={},this.singletons={}}return e.getContainer=function(){return e.container||(e.container=new e),e.container},e.prototype.getInstance=function(e){return this.registrations[e]?this.registrations[e]:this.singletons[e]},e.prototype.provide=function(e,t){if(this.singletons[e])throw new Error("Singleton "+e+" already provided!");this.registrations[e]=t},e.prototype.createSingleton=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(this.registrations[e]||this.singletons[e])throw new Error("Singleton "+e+" already provided!");this.singletons[e]=new(t.bind.apply(t,r([void 0],n)))},e}();t.INJECTOR=i.getContainer()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSENT_REFERENCE_TOKEN=void 0,t.CONSENT_REFERENCE_TOKEN="ConsentReferenceService"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTracingId=t.enableTracing=t.mapErrorResponse=t.mapResponse=t.preparePostHeaders=t.handleStatusAndCallback=t.statusIsAvailable=t.statusReadyListener=void 0;var r=n(1),i=n(0);function o(e){return e.readyState===XMLHttpRequest.DONE||4===e.readyState}function a(e,t){e.status>=200&&e.status<300?t(null,s(e),e):t(c(e))}function s(e){var t={};t.status=e.status;try{t.body={},""!==e.response&&(t.body=JSON.parse(e.response))}catch(e){r.warn(e)}return t}function c(e){var t={};t.status=e.status;try{t.message=e.response}catch(e){r.warn(e)}return t}function u(e,t){var n=t.indexOf(i.config.basePiwikUrl)>-1;r.isDebugEnabled()&&n&&e.setRequestHeader("X-B3-Sampled","1")}t.statusReadyListener=function(e,t){o(e)&&a(e,t)},t.statusIsAvailable=o,t.handleStatusAndCallback=a,t.preparePostHeaders=function(e,t){u(e,t.url),Object.keys(t.headers).forEach(function(n){e.setRequestHeader(n,t.headers[n])})},t.mapResponse=s,t.mapErrorResponse=c,t.enableTracing=u,t.getTracingId=function(e){var t=e.getResponseHeader("Hybris-Context-Trace-Id");if(null===t)throw Error("Tracing ID does not exist for given response");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllRequests=t.retryAll=t.post=t.requestsCacheKey=void 0;var r=n(4),i=n(1);function o(){var e=window.localStorage.getItem(t.requestsCacheKey);return null==e?{}:JSON.parse(e)}function a(e){Object.keys(e).length>0?window.localStorage.setItem(t.requestsCacheKey,JSON.stringify(e)):window.localStorage.removeItem(t.requestsCacheKey)}function s(e,t,n){!function(e,t){(function(e){return e.readyState===XMLHttpRequest.HEADERS_RECEIVED})(e)&&function(e){var t=o();if(void 0===t||"object"!=typeof t[e])throw new Error("Key not found for request");delete t[e],a(t)}(t)}(e,t),r.statusReadyListener(e,n)}t.requestsCacheKey="profiletag_requests",t.post=function(e,t){var n=new XMLHttpRequest;n.open("POST",e.url,!0),r.preparePostHeaders(n,e);var i=(c=e,u=Date.now()+9e5,l=o(),"object"!=typeof l&&(l={}),l[u]=c,a(l),u);var c,u,l;n.onreadystatechange=function(){return s(n,i,t)},n.send(e.body)},t.retryAll=function(){var e,t,n,c=(e=o(),n=Date.now(),t=function(e){return e>n},Object.keys(e).filter(function(e){return t(e)}).reduce(function(t,n){return t[n]=e[n],t},{}));a(c),Object.keys(c).forEach(function(e){!function(e,t){var n=new XMLHttpRequest;n.open("POST",e.url,!0),r.preparePostHeaders(n,e),n.onreadystatechange=function(){return s(n,t,function(){return function(e){try{var t=r.getTracingId(e);i.log("Sent persistent request. Tracing ID: "+t)}catch(e){i.warn(e)}}(n)})},n.send(e.body)}(c[e],e)})},t.getAllRequests=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventLayerLogic=void 0;var o=n(7),a=n(14),s=n(39),c=function(){function e(e,t){this._profileTag=e,this._logger=t}return e.prototype.pushGenericEvent=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,this._profileTag.getMappings()];case 1:return t=n.sent(),this.pushGenericEventWithConfig(e,t),[2]}})})},e.prototype.pushGenericEventWithConfig=function(e,t){if(t){for(var n=!1,r=0,i=t.pages;r<i.length;r++)for(var c=i[r],u=0,l=c.mappings;u<l.length;u++){var f=l[u],d=f.trigger;if(d.type===a.Type.EventLayer&&e.name===d.eventLayerEvent){var h=(p=this._profileTag.generateFunctionForDataSelection(f))(e);this._profileTag.makeRequest(h.schema,p,e,{event:e,pageId:c.pageId,dataCollectionName:f.name}),n=!0}}if(e.name===o.PushEventNames.CART_SNAPSHOT){var p=this._profileTag.generateFunctionForDataSelection(s);this._profileTag.makeRequest(s.schema,p,e,{event:e,pageId:1,dataCollectionName:s.name}),n=!0}n||this._logger.warn("Unrecognized event "+JSON.stringify(e))}else this._logger.warn("Configuration is not defined.")},e.getBool=function(e){return"boolean"==typeof e?e:"false"!==e&&Boolean(e)},e.addDebugInfo=function(e,t,n,r){e&&(e.debug={tracingId:r,request:t,response:{status:n.status,headers:n.getAllResponseHeaders().split(/\r?\n/).filter(function(e){return e}),body:n.response}})},e}();t.EventLayerLogic=c},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CartSnapshotPushEvent=t.ConsentChanged=t.NavigatedPushEvent=t.PushEventNames=void 0,function(e){e.NAVIGATED="Navigated",e.CONSENT_CHANGED="ConsentChanged",e.CART_SNAPSHOT="CartSnapshot"}(r=t.PushEventNames||(t.PushEventNames={}));var i=function(){this.name=r.NAVIGATED};t.NavigatedPushEvent=i;var o=function(e){this.name=r.CONSENT_CHANGED,this.data={granted:void 0},this.data.granted=e};t.ConsentChanged=o;var a=function(e){this.name=r.CART_SNAPSHOT,this.data=e};t.CartSnapshotPushEvent=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.selectorNotFoundError=t.FirstParentStrategyError=t.FirstChildStrategyError=t.MatchAllError=void 0;var o=function(e){function t(){var t=e.call(this,"When triggering data-collection from an event, and using css selectors,\n        the event should be triggered from an element")||this;return t.name="FirstChildStrategyError",t}return i(t,e),t}(Error);t.MatchAllError=o;var a=function(e){function t(){var t=e.call(this,"When using the first-child strategy,\n        the selector should target a dom elemet")||this;return t.name="FirstChildStrategyError",t}return i(t,e),t}(Error);t.FirstChildStrategyError=a;var s=function(e){function t(){return e.call(this,"Something went wrong.\n        Make sure a dom-element is targeted when using the first-parent strategy.")||this}return i(t,e),t}(Error);t.FirstParentStrategyError=s,t.selectorNotFoundError=function(e){var t=" ("+e.attributeValue+")",n=""+e.selector+(e.attributeValue?t:"");return Error('SelectorNotFound: Selector "'+e.key+'" of type "'+e.type+'" with value "'+n+'" could not be found.')}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectFromPath=void 0,t.getObjectFromPath=function(e,t,n){for(var r=t,i=0,o=e.split(".");i<o.length;i++){var a=o[i];if(a!==n){if("function"==typeof(r=r[a]))return"";if(void 0===r)return}}return r}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_DISPATCHER_TOKEN=void 0,t.EVENT_DISPATCHER_TOKEN="EventDispatcher"},function(e,t,n){"use strict";function r(e){return"(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"}Object.defineProperty(t,"__esModule",{value:!0}),t.removeCookie=t.getCookie=t.read=t.write=void 0,t.write=function(e,t,n,r,i){void 0===i&&(i="/");var o=e+"="+t+"; expires="+function(e){void 0===e&&(e=720);var t=new Date;return t.setTime(t.getTime()+60*e*60*1e3),t.toUTCString()}(n)+"; path="+i;r&&(o+="; domain="+r),"https:"===window.location.protocol&&(o+="; secure"),document.cookie=o},t.read=function(e){var t=new RegExp(r(e));return decodeURI(document.cookie.replace(t,"$1"))},t.getCookie=function(e){var t=new RegExp(r(e)).exec(document.cookie)[1];return t?decodeURI(t):t},t.removeCookie=function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadConfiguration=t.CONFIGURATION_SERVICE_TOKEN=void 0;var r=n(18);t.CONFIGURATION_SERVICE_TOKEN="ConfigurationService",t.loadConfiguration=function(e){return new Promise(function(t,n){r.get(e,function(e,r){if(e)n(e);else{var i=r.body;t(i)}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventLayer=t.ViewPort=t.OnLoad=t.Interaction=t.Type=t.Trigger=void 0;var r,i=function(){};t.Trigger=i,function(e){e.OnLoad="onload",e.Interaction="interaction",e.InView="in-view",e.EventLayer="event-layer"}(r=t.Type||(t.Type={}));var o=function(){this.type=r.Interaction};t.Interaction=o;var a=function(){this.type=r.OnLoad};t.OnLoad=a;var s=function(){this.type=r.InView,this.options={root:null,rootMargin:"0px",threshold:.8}};t.ViewPort=s;var c=function(){this.type=r.EventLayer};t.EventLayer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorStrategy=void 0,function(e){e.MatchAll="match-all",e.FirstChild="first-child",e.First="first",e.FirstParent="first-parent",e.ClosestElement="closest-element"}(t.SelectorStrategy||(t.SelectorStrategy={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomCollection=void 0;var r=n(8),i=function(){function e(){}return e.prototype.getQuerySelector=function(e){var t=document.querySelector(e);if(null===t)throw r.selectorNotFoundError(e);return t},e.prototype.getQuerySelectorAll=function(e){var t=document.querySelectorAll(e);if(null===t)throw r.selectorNotFoundError(e);return t},e.prototype.getClosestElement=function(e,t){for(var n=15,r=t,i=null;null===i&&n>0&&null!==r;)n--,i=r.querySelector(e),r=r.parentElement;return i},e}();t.DomCollection=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RECENT_SEARCHES_TOKEN=void 0,t.RECENT_SEARCHES_TOKEN="RecentSearchesService"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.post=t.head=t.get=void 0;var r=n(4);t.get=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState!==XMLHttpRequest.DONE&&4!==n.readyState||(n.status>=200&&n.status<300?t(null,r.mapResponse(n),n):t(r.mapErrorResponse(n)))},n.open("GET",e,!0),r.enableTracing(n,e),n.send()},t.head=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){return r.statusReadyListener(n,t)},n.open("HEAD",e,!0),n.send()},t.post=function(e,t){var n=new XMLHttpRequest;n.open("POST",e.url,!0),r.preparePostHeaders(n,e),n.onreadystatechange=function(){return r.statusReadyListener(n,t)},n.send(e.body)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileTagEventListener=void 0;var r=n(1),i=function(){function e(){}return e.addEventListener=function(t,n,r,i){t.addEventListener(n,r,i),e.profileTagEventListeners.push({type:n,listener:r,options:i,eventTarget:t})},e.addDomEventListener=function(t,n,i,o){try{var a=document.querySelector(t);if(!a)throw Error("Could not find element of selector: "+t);e.addEventListener(a,n,i,o)}catch(e){r.warn(e)}},e.removeEventListenersFromElements=function(){for(var t=0,n=e.profileTagEventListeners;t<n.length;t++){var r=n[t];r.eventTarget.removeEventListener(r.type,r.listener,r.options)}e.profileTagEventListeners=[]},e.profileTagEventListeners=[],e}();t.ProfileTagEventListener=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PushEventConsentListener=t.CookieConsentListener=t.DOMEventConsentListener=t.ImplicitConsentListener=t.AbstractConsentListener=t.ConsentListenerFactoryImpl=void 0;var s=n(19),c=n(7),u=n(6),l=n(3),f=n(2),d=n(0),h=n(17),p=function(){function e(e,t){this.debug=e,this.cookie=t}return e.prototype.getConsentListener=function(e,t){switch(e){case"implicit":return new v(this.debug);case"explicit":if(t){if("event"===t.type)return new y(t.domElement,t.eventName,this.debug);if("cookie"===t.type)return new m(t.cookieName,t.cookieValue,this.debug,this.cookie);if("eventLayer"===t.type)return new E(c.PushEventNames.CONSENT_CHANGED,this.debug);this.debug.error("Unknown consent listener type: "+t.type)}else this.debug.error("Explicit consent management without consent listener");break;default:this.debug.error("Unknown consent management: "+e)}},e}();t.ConsentListenerFactoryImpl=p;var g=function(){function e(e){this._debug=e,this._consentReferenceService=f.INJECTOR.getInstance(l.CONSENT_REFERENCE_TOKEN),this._recentSearchesService=f.INJECTOR.getInstance(h.RECENT_SEARCHES_TOKEN)}return e.prototype.checkConsent=function(e){throw new Error("Method not implemented.")},e.prototype.isConsentGranted=function(){return this._consentReferenceService.consentReferenceCookieExists()},e.prototype.grantConsent=function(){return o(this,void 0,void 0,function(){var e,t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this._consentReferenceService.requestAndSave()];case 1:return e=n.sent(),this._debug.log("Consent Reference: "+e),[3,3];case 2:return t=n.sent(),this._debug.error("Could not get consent ref: "+t.message),[2];case 3:return[2]}})})},e.prototype.revokeConsent=function(){this._consentReferenceService.deleteConsentReference(),this._debug.log("Consent reference cookie was deleted"),this._recentSearchesService.clearPhrases(),this._debug.log("Recent search phrases were cleared")},e}();t.AbstractConsentListener=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.checkConsent=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.isConsentGranted()?[3,2]:[4,this.grantConsent()];case 1:e.sent(),e.label=2;case 2:return[2,!0]}})})},t}(g);t.ImplicitConsentListener=v;var y=function(e){function t(t,n,r){var i=e.call(this,r)||this;if(i._domElement=t,i._eventName=n,!i._domElement)throw new Error("_domElement must be defined.");if(!i._eventName)throw new Error("_eventName must be defined.");return i}return i(t,e),t.prototype.checkConsent=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return this.isConsentGranted()?[2,!0]:(s.ProfileTagEventListener.addDomEventListener(this._domElement,this._eventName,this.grantConsent.bind(this),!1),[2,!1])})})},t}(g);t.DOMEventConsentListener=y;var m=function(e){function t(t,n,r,i){var o=e.call(this,r)||this;if(o._cookieName=t,o._cookieValue=n,o._cookie=i,!o._cookieName)throw new Error("_cookieName must be defined.");if(!o._cookieValue&&""!==o._cookieValue)throw new Error("_cookieValue must be defined.");return o}return i(t,e),t.prototype.checkConsent=function(){return o(this,void 0,void 0,function(){var e,n,r;return a(this,function(i){switch(i.label){case 0:return(e=this._cookie.getCookie(this._cookieName))||this._cookieName!==t.DEFAULT_CONSENT_COOKIE_NAME||(n=d.config.siteId+"-"+this._cookieName,e=this._cookie.getCookie(n),this._debug.info("Cookie with name "+t.DEFAULT_CONSENT_COOKIE_NAME+" not found, cookie "+n+" (set to value "+e+")")),(r=this.isCookieValueValid(e))?!r||this.isConsentGranted()?[3,2]:[4,this.grantConsent()]:(this.isConsentGranted()&&this.revokeConsent(),[2,!1]);case 1:i.sent(),i.label=2;case 2:return[2,!0]}})})},t.prototype.isCookieValueValid=function(e){if(e){var t=this._cookieValue;return t&&""!==t||(t=".*"),!!new RegExp(t).exec(e)||(this._debug.log("No cookie found with name "+this._cookieName),!1)}return!1},t.DEFAULT_CONSENT_COOKIE_NAME="profile.consent.given",t}(g);t.CookieConsentListener=m;var E=function(e){function t(t,n){var r=e.call(this,n)||this;if(r._consentChangedEventName=t,!r._consentChangedEventName)throw new Error("_consentChangedEventName must be defined.");return r}return i(t,e),t.prototype.checkConsent=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return e?[3,1]:(this._debug.error("Push Event Consent Listener called w/o event"),[3,4]);case 1:return e.name!==this._consentChangedEventName?[3,4]:(t=u.EventLayerLogic.getBool(e.data.granted),this.isConsentGranted()===t?[3,4]:t?[4,this.grantConsent()]:[3,3]);case 2:return n.sent(),[2,!0];case 3:return this.revokeConsent(),[2,!1];case 4:return[2,this.isConsentGranted()]}})})},t}(g);t.PushEventConsentListener=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSENT_LISTENER_TOKEN=t.CONSENT_FACTORY_TOKEN=void 0,t.CONSENT_FACTORY_TOKEN="ConsentListenerFactory",t.CONSENT_LISTENER_TOKEN="ConsentListener"},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),n(23),n(27);var o=n(28);n(32),n(33),n(34);var a=n(0),s=n(1),c=n(2),u=n(35),l=n(36),f=n(3),d=n(11),h=n(58),p=n(12),g=n(21),v=n(20),y=n(13),m=n(17),E=n(61),w=window.Y_TRACKING||{};window.Y_TRACKING_ON_INIT=window.Y_TRACKING_ON_INIT||[],w.init=function(){return r(void 0,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),window.Y_TRACKING.eventLayer=window.Y_TRACKING.eventLayer||[],c.INJECTOR.createSingleton(d.EVENT_DISPATCHER_TOKEN,u.WindowDispatcher,window,s),c.INJECTOR.createSingleton(f.CONSENT_REFERENCE_TOKEN,o.ConsentReferenceCookieService,c.INJECTOR.getInstance(d.EVENT_DISPATCHER_TOKEN)),[4,y.loadConfiguration(a.config.configUrl)];case 1:return e=r.sent(),c.INJECTOR.provide(y.CONFIGURATION_SERVICE_TOKEN,e),c.INJECTOR.createSingleton(g.CONSENT_FACTORY_TOKEN,v.ConsentListenerFactoryImpl,s,p),c.INJECTOR.createSingleton(m.RECENT_SEARCHES_TOKEN,E.RecentSearchServiceImpl),c.INJECTOR.provide(g.CONSENT_LISTENER_TOKEN,c.INJECTOR.getInstance(g.CONSENT_FACTORY_TOKEN).getConsentListener(e.siteConsent,e.consentListener)),s.init(),s.info("Tenant: "+a.config.tenant+" - site: "+a.config.siteId),s.info("cdsSite (from PT config) : "+e.cdsSiteId),a.config.cdsSiteId=e.cdsSiteId,a.config.cdsSiteId||(a.config.cdsSiteId="main"),e.cdsSiteId&&(a.config.basePiwikUrl="https://"+a.config.tenant+"-"+a.config.cdsSiteId+"."+a.config.baseUrl+"/edge/",a.config.optInUrl="https://"+a.config.tenant+"-"+a.config.cdsSiteId+"."+a.config.baseUrl+"/consent/"),t=h.getSite(l,a.config,s,window.Y_TRACKING.eventLayer),function(){return p.read("profile.tracking.pause")?(s.log("ASM cookie detected, profile tracking disabled."),!1):a.config.tenant?"http:"!==window.location.protocol||a.config.allowInsecureCookies?(a.config.siteId&&0!==a.config.siteId.trim().length||s.error("The 'siteId' property is mandatory. Please add this to the object passed to the function 'Y_TRACKING' "),!0):(s.error("Cannot set secure cookie because your site is not running HTTPS. Please provide allowInsecureCookies:true to init function to allow insecure cookies."),!1):(s.error("Tracking not initialized correctly! Please provide tenant to init function."),!1)}()?(i={env:a.config.environment,siteId:a.config.siteId,cdsSiteId:a.config.cdsSiteId,tenant:a.config.tenant,maxEvents:a.config.maxEvents,debugEnabled:s.isDebugEnabled()},window.Y_TRACKING_ON_INIT.forEach(function(e){return setTimeout(function(){return e(i)})}),w.config=i,w.recentSearches=c.INJECTOR.getInstance(m.RECENT_SEARCHES_TOKEN),[4,t.startTracking()]):[2];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),console.error("An issue was encountered in Profiletag.\n        Message: "+n.message+"\n        Stack: "+n.stack),[3,4];case 4:return[2]}var i})})},w.q&&w.q.length&&w.q.length>0&&w.init(),window.Y_TRACKING=w},function(e,t,n){(function(r,i){var o,a,s,c;
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
c=function(){"use strict";var e,t,n,r=Object.prototype.toString,o=void 0!==i?function(e){return i(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function a(e,r){n.add(e,r),t||(t=o(n.drain))}function s(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function c(){for(var e=0;e<this.chain.length;e++)u(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function u(e,t,n){var r,i;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function l(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(c,t))}function f(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then(function(e){n(i,e)},r)}(i)}function d(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new h(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t}),t.chain.push(r),0!==t.state&&a(c,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(t){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=s(t))?a(function(){var i=new d(r);try{n.call(t,function(){e.apply(i,arguments)},function(){l.apply(i,arguments)})}catch(e){l.call(i,e)}}):(r.msg=t,r.state=1,r.chain.length>0&&a(c,r))}catch(e){l.call(new d(r),e)}}}).call(t,e)},function(e){l.call(t,e)})}catch(e){l.call(t,e)}}n=function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){r=new i(t,o),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var g=e({},"constructor",p,!1);return p.prototype=g,e(g,"__NPO__",0,!1),e(p,"resolve",function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),e(p,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),e(p,"all",function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,o=Array(i),a=0;f(t,e,function(e,t){o[e]=t,++a===i&&n(o)},r)})}),e(p,"race",function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");f(t,e,function(e,t){n(t)},r)})}),p},(s=void 0!==r?r:this)[a="Promise"]=s[a]||c(),e.exports?e.exports=s[a]:void 0===(o=function(){return s[a]}.call(t,n,t,e))||(e.exports=o)}).call(this,n(10),n(24).setImmediate)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(25),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(10))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,c=1,u={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},d.clearImmediate=h}function h(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(10),n(26))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=w;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={},v={};v[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(A([])));m&&m!==r&&i.call(m,a)&&(v=m);var E=T.prototype=_.prototype=Object.create(v);C.prototype=E.constructor=T,T.constructor=C,T[c]=C.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(E),e},l.awrap=function(e){return{__await:e}},S(N.prototype),N.prototype[s]=function(){return this},l.AsyncIterator=N,l.async=function(e,t,n,r){var i=new N(w(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(E),E[c]="Generator",E[a]=function(){return this},E.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function w(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=b(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function _(){}function C(){}function T(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function N(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=b(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){c.value=e,o(c)},function(e){return t("throw",e,o,a)})}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function k(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,k(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=b(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,g;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentReferenceCookieService=t.getConsentReferenceCookieId=t.requestAndSave=t.checkConsentValidityForSite=t.healCRCookieIfInvalid=t.deleteConsentReference=t.writeConsentReference=t.readConsentReference=t.consentReferenceCookieExists=void 0;var o,a=n(0),s=n(18),c=n(12),u=n(31),l=n(1),f=function(){function e(e){this._dispatcher=e,this.consentReferenceCookiePrefix="yaas-consent-reference",this.consentReferenceCookieSuffix="-consentReference",this.cookieLifetimeInHours=7200,this._value=void 0}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._dispatcher.dispatchConsentReferenceChanged(this.value)},enumerable:!1,configurable:!0}),e}();function d(){var e=E(),t=c.read(e);return t&&""!==t}function h(){if(void 0!==o.value)return o.value;if(!d())throw Error("Consent reference does not exist");var e=E();return o.value=c.read(e),o.value}function p(e){var t=E();o.value=e,c.write(t,e,o.cookieLifetimeInHours),u.write(E(),Date.now()+60*o.cookieLifetimeInHours*60*1e3,e)}function g(){var e=E();c.removeCookie(e),u.remove(e)}function v(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return l.info("Checking if the consent-reference cookie needs healing or not."),t=E(),(n=u.readCDSSite(t))&&""!==n&&n===a.config.cdsSiteId?(l.info("No healing necessary."),[2]):[4,y(e)];case 1:return r.sent()?(l.info("No healing necessary."),u.writeCDSSite(t),[3,4]):[3,2];case 2:return g(),[4,m()];case 3:r.sent(),r.label=4;case 4:return[2]}})})}function y(e){return r(this,void 0,void 0,function(){var t=this;return i(this,function(n){return[2,new Promise(function(n,o){return r(t,void 0,void 0,function(){return i(this,function(t){try{s.head(""+a.config.optInUrl+a.config.tenant+"/consentReferences/"+e+"/consents",function(t,r){if(t)return 404===t.status?(l.info("Consent reference "+e+" is invalid for cdsSite "+a.config.cdsSiteId),void n(!1)):void o(Error("Call to consent service resulted in an error: "+t.response));n(!0)})}catch(e){l.error("Error occurred while checking if a consent is valid for site "+e)}return[2]})})})]})})}function m(){return r(this,void 0,void 0,function(){var e=this;return i(this,function(t){return[2,new Promise(function(t,n){return r(e,void 0,void 0,function(){var e;return i(this,function(r){return d()&&u.exists()?(e=h(),t(e),[2]):(l.info("Obtaining a new CR as either it doesn't exist or it is invalid."),s.post({url:""+a.config.optInUrl+a.config.tenant+"/consentReferences",body:"{}",headers:{"Content-Type":"application/json",Accept:"application/json"}},function(e,r){if(e)n(Error("Could not request consent reference: "+e));else if(r.body.id){var i=r.body.id;p(i),t(i)}else n(Error('Payload does not have "id" property'))}),[2])})})})]})})}function E(){return function(e,t){var n=t;a.config.siteId&&(n=""+a.config.siteId+e);return n}(o.consentReferenceCookieSuffix,o.consentReferenceCookiePrefix)}t.consentReferenceCookieExists=d,t.readConsentReference=h,t.writeConsentReference=p,t.deleteConsentReference=g,t.healCRCookieIfInvalid=v,t.checkConsentValidityForSite=y,t.requestAndSave=m,t.getConsentReferenceCookieId=E;var w=function(e){this.consentReferenceCookieExists=d,this.readConsentReference=h,this.requestAndSave=m,this.writeConsentReference=p,this.getConsentReferenceCookieId=E,this.deleteConsentReference=g,this.checkConsentValidityForSite=y,this.healCRCookieIfInvalid=v,o=new f(e)};t.ConsentReferenceCookieService=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;var r=n(30);t.env=new r.environment,t.env.baseUrl="api.stage.context.cloud.sap",t.env.env="stage"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environment=void 0;var r=function(){};t.environment=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.writeCDSSite=t.readCDSSite=t.readConsentReference=t.read=t.write=t.exists=t.key=void 0;var i=n(0);function o(){return null!==window.localStorage.getItem(t.key)}function a(){return JSON.parse(window.localStorage.getItem(t.key))}t.key="profiletag",t.exists=o,t.write=function(e,n,s){var c={version:"2.0",cr:{}};o()&&function(e){var t=a();t&&Object.keys(t.cr).forEach(function(n){e.cr[n]=t.cr[n]})}(c);var u=c.cr[e]&&c.cr[e].consentReference===s?c.cr[e].created:Date.now();c.cr[e]=r(r({},s&&{consentReference:s}),{created:u,expiration:n,tenant:i.config.tenant,cdsSiteId:i.config.cdsSiteId}),window.localStorage.setItem(t.key,JSON.stringify(c))},t.read=a,t.readConsentReference=function(e){var t=a();if(t&&t.cr&&t.cr[e])return t.cr[e].consentReference},t.readCDSSite=function(e){var t=a();return t&&t.cr&&t.cr[e]?t.cr[e].cdsSiteId:""},t.writeCDSSite=function(e){var n=a();n&&n.cr&&n.cr[e]&&(n.cr[e].cdsSiteId=i.config.cdsSiteId),window.localStorage.setItem(t.key,JSON.stringify(n))},t.remove=function(e){window.localStorage.removeItem(e)}},function(e,t,n){var r;
/*!!
 * Piwik - free/libre analytics platform
 *
 * JavaScript tracking client
 *
 * @link http://piwik.org
 * @source https://github.com/piwik/piwik/blob/master/js/piwik.js
 * @license http://piwik.org/free-software/bsd/ BSD-3 Clause (also in js/LICENSE.txt)
 * @license magnet:?xt=urn:btih:c80d50af7d3db9be66a4d0a86db0286e4fd33292&dn=bsd-3-clause.txt BSD-3-Clause
 */JSON2=window.JSON,"object"!=typeof _paq&&(_paq=[]),"object"!=typeof window.Piwik&&(window.Piwik=function(){var n,i,o,a={},s={},c=document,u=navigator,l=screen,f=window,d=f.performance||f.mozPerformance||f.msPerformance||f.webkitPerformance,h=f.encodeURIComponent,p=f.decodeURIComponent,g=(unescape,[]),v=[];function y(e){try{return p(e)}catch(t){return unescape(e)}}function m(e){return"undefined"!==typeof e}function E(e){return"function"==typeof e}function w(e){return"object"==typeof e}function b(e){return"string"==typeof e||e instanceof String}function _(e){void 0!==console&&console&&console.error&&console.error(e)}function C(){var e,t,n,r,i;for(e=0;e<arguments.length;e+=1){var a,s;if(i=null,arguments[e]&&arguments[e].slice&&(i=arguments[e].slice()),b(n=(r=arguments[e]).shift())&&n.indexOf("::")>0)s=(a=n.split("::"))[0],n=a[1],"object"==typeof o[s]&&"function"==typeof o[s][n]?o[s][n].apply(o[s],r):i&&v.push(i);else for(t=0;t<g.length;t++)if(b(n)){s=g[t];var c=n.indexOf(".")>0;if(c)if(a=n.split("."),s&&"object"==typeof s[a[0]])s=s[a[0]],n=a[1];else if(i){v.push(i);break}if(s[n])s[n].apply(s,r);else{var u="The method '"+n+'\' was not found in "_paq" variable.  Please have a look at the Piwik tracker documentation: http://developer.piwik.org/api-reference/tracking-javascript';if(_(u),!c)throw new TypeError(u)}if("addTracker"===n)break;if("setTrackerUrl"===n||"setSiteId"===n)break}else n.apply(g[t],r)}}function T(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function S(e){"complete"===c.readyState?e():f.addEventListener?f.addEventListener("load",e):f.attachEvent&&f.attachEvent("onload",e)}function N(e){var t=!1;(t=c.attachEvent?"complete"===c.readyState:"loading"!==c.readyState)?e():(c.addEventListener?T(c,"DOMContentLoaded",function n(){c.removeEventListener("DOMContentLoaded",n,!1),t||(t=!0,e())}):c.attachEvent&&(c.attachEvent("onreadystatechange",function n(){"complete"===c.readyState&&(c.detachEvent("onreadystatechange",n),t||(t=!0,e()))}),c.documentElement.doScroll&&f===f.top&&function n(){if(!t){try{c.documentElement.doScroll("left")}catch(e){return void setTimeout(n,0)}t=!0,e()}}()),T(f,"load",function(){t||(t=!0,e())},!1))}function k(e,t){var n,r,i,o="";for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&E(r=a[n][e])&&(i=r(t))&&(o+=i);return o}function O(e){var t=new RegExp("^([a-z]+):").exec(e);return t?t[1]:null}function I(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e}function P(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);return n?p(n[1]):""}function A(e){var t,n,r,i,o,a,s,c,u,l,f=function(e,t){return e<<t|e>>>32-t},d=function(e){var t,n="";for(t=7;t>=0;t--)n+=(e>>>4*t&15).toString(16);return n},p=[],g=1732584193,v=4023233417,y=2562383102,m=271733878,E=3285377520,w=[];for(l=(e=function(e){return unescape(h(e))}(e)).length,n=0;n<l-3;n+=4)r=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),w.push(r);switch(3&l){case 0:n=2147483648;break;case 1:n=e.charCodeAt(l-1)<<24|8388608;break;case 2:n=e.charCodeAt(l-2)<<24|e.charCodeAt(l-1)<<16|32768;break;case 3:n=e.charCodeAt(l-3)<<24|e.charCodeAt(l-2)<<16|e.charCodeAt(l-1)<<8|128}for(w.push(n);14!=(15&w.length);)w.push(0);for(w.push(l>>>29),w.push(l<<3&4294967295),t=0;t<w.length;t+=16){for(n=0;n<16;n++)p[n]=w[t+n];for(n=16;n<=79;n++)p[n]=f(p[n-3]^p[n-8]^p[n-14]^p[n-16],1);for(i=g,o=v,a=y,s=m,c=E,n=0;n<=19;n++)u=f(i,5)+(o&a|~o&s)+c+p[n]+1518500249&4294967295,c=s,s=a,a=f(o,30),o=i,i=u;for(n=20;n<=39;n++)u=f(i,5)+(o^a^s)+c+p[n]+1859775393&4294967295,c=s,s=a,a=f(o,30),o=i,i=u;for(n=40;n<=59;n++)u=f(i,5)+(o&a|o&s|a&s)+c+p[n]+2400959708&4294967295,c=s,s=a,a=f(o,30),o=i,i=u;for(n=60;n<=79;n++)u=f(i,5)+(o^a^s)+c+p[n]+3395469782&4294967295,c=s,s=a,a=f(o,30),o=i,i=u;g=g+i&4294967295,v=v+o&4294967295,y=y+a&4294967295,m=m+s&4294967295,E=E+c&4294967295}return(u=d(g)+d(v)+d(y)+d(m)+d(E)).toLowerCase()}function R(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),-1!==e.indexOf("/")&&(e=e.substr(0,e.indexOf("/"))),e}function L(e){return e?!m(e.children)&&m(e.childNodes)?e.children:m(e.children)?e.children:[]:[]}function x(e,t){if(e&&e.indexOf)return e.indexOf(t);if(!m(e)||null===e)return-1;if(!e.length)return-1;var n=e.length;if(0===n)return-1;for(var r=0;r<n;){if(e[r]===t)return r;r++}return-1}function j(e,t){return 0===(e=String(e)).lastIndexOf(t,0)}function D(e,t){return-1!==(e=String(e)).indexOf(t,e.length-t.length)}function M(e,t){return(e=String(e)).substr(0,e.length-t)}function V(e){if(!e)return!1;function t(e,t){return f.getComputedStyle?c.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:void 0}return function n(r,i,o,a,s,u,l){var f=r.parentNode;return!!function(e){for(e=e.parentNode;e;){if(e===c)return!0;e=e.parentNode}return!1}(r)&&(9===f.nodeType||"0"!==t(r,"opacity")&&"none"!==t(r,"display")&&"hidden"!==t(r,"visibility")&&(m(i)&&m(o)&&m(a)&&m(s)&&m(u)&&m(l)||(i=r.offsetTop,s=r.offsetLeft,a=i+r.offsetHeight,o=s+r.offsetWidth,u=r.offsetWidth,l=r.offsetHeight),(e!==r||0!==l&&0!==u||"hidden"!==t(r,"overflow"))&&(!f||("hidden"!==t(f,"overflow")&&"scroll"!==t(f,"overflow")||!(s+1>f.offsetWidth+f.scrollLeft||s+u-1<f.scrollLeft||i+1>f.offsetHeight+f.scrollTop||i+l-1<f.scrollTop))&&(r.offsetParent===f&&(s+=f.offsetLeft,i+=f.offsetTop),n(f,i,o,a,s,u,l)))))}(e)}var F={htmlCollectionToArray:function(e){var t,n=[];if(!e||!e.length)return n;for(t=0;t<e.length;t++)n.push(e[t]);return n},find:function(e){if(!document.querySelectorAll||!e)return[];var t=document.querySelectorAll(e);return this.htmlCollectionToArray(t)},findMultiple:function(e){if(!e||!e.length)return[];var t,n,r=[];for(t=0;t<e.length;t++)n=this.find(e[t]),r=r.concat(n);return r=this.makeNodesUnique(r)},findNodesByTagName:function(e,t){if(!e||!t||!e.getElementsByTagName)return[];var n=e.getElementsByTagName(t);return this.htmlCollectionToArray(n)},makeNodesUnique:function(e){var t=[].concat(e);if(e.sort(function(e,n){if(e===n)return 0;var r=x(t,e),i=x(t,n);return r===i?0:r>i?-1:1}),e.length<=1)return e;var n,r=0,i=0,o=[];for(n=e[r++];n;)n===e[r]&&(i=o.push(r)),n=e[r++]||null;for(;i--;)e.splice(o[i],1);return e},getAttributeValueFromNode:function(e,t){if(this.hasNodeAttribute(e,t)){if(e&&e.getAttribute)return e.getAttribute(t);if(e&&e.attributes)if("undefined"!==typeof e.attributes[t]){if(e.attributes[t].value)return e.attributes[t].value;if(e.attributes[t].nodeValue)return e.attributes[t].nodeValue;var n,r=e.attributes;if(r){for(n=0;n<r.length;n++)if(r[n].nodeName===t)return r[n].nodeValue;return null}}}},hasNodeAttributeWithValue:function(e,t){return!!this.getAttributeValueFromNode(e,t)},hasNodeAttribute:function(e,t){return e&&e.hasAttribute?e.hasAttribute(t):!(!e||!e.attributes)&&"undefined"!==typeof e.attributes[t]},hasNodeCssClass:function(e,t){if(e&&t&&e.className&&-1!==x("string"==typeof e.className?e.className.split(" "):[],t))return!0;return!1},findNodesHavingAttribute:function(e,t,n){if(n||(n=[]),!e||!t)return n;var r,i,o=L(e);if(!o||!o.length)return n;for(r=0;r<o.length;r++)i=o[r],this.hasNodeAttribute(i,t)&&n.push(i),n=this.findNodesHavingAttribute(i,t,n);return n},findFirstNodeHavingAttribute:function(e,t){if(e&&t){if(this.hasNodeAttribute(e,t))return e;var n=this.findNodesHavingAttribute(e,t);return n&&n.length?n[0]:void 0}},findFirstNodeHavingAttributeWithValue:function(e,t){if(e&&t){if(this.hasNodeAttributeWithValue(e,t))return e;var n,r=this.findNodesHavingAttribute(e,t);if(r&&r.length)for(n=0;n<r.length;n++)if(this.getAttributeValueFromNode(r[n],t))return r[n]}},findNodesHavingCssClass:function(e,t,n){if(n||(n=[]),!e||!t)return n;if(e.getElementsByClassName){var r=e.getElementsByClassName(t);return this.htmlCollectionToArray(r)}var i,o,a=L(e);if(!a||!a.length)return[];for(i=0;i<a.length;i++)o=a[i],this.hasNodeCssClass(o,t)&&n.push(o),n=this.findNodesHavingCssClass(o,t,n);return n},findFirstNodeHavingClass:function(e,t){if(e&&t){if(this.hasNodeCssClass(e,t))return e;var n=this.findNodesHavingCssClass(e,t);return n&&n.length?n[0]:void 0}},isLinkElement:function(e){if(!e)return!1;return-1!==x(["a","area"],String(e.nodeName).toLowerCase())},setAnyAttribute:function(e,t,n){e&&t&&(e.setAttribute?e.setAttribute(t,n):e[t]=n)}},H={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"piwikContentTarget",CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:void 0,findContentNodes:function(){var e="."+this.CONTENT_CLASS,t="["+this.CONTENT_ATTR+"]";return F.findMultiple([e,t])},findContentNodesWithinNode:function(e){if(!e)return[];var t,n=F.findNodesHavingCssClass(e,this.CONTENT_CLASS),r=F.findNodesHavingAttribute(e,this.CONTENT_ATTR);if(r&&r.length)for(t=0;t<r.length;t++)n.push(r[t]);return F.hasNodeAttribute(e,this.CONTENT_ATTR)?n.push(e):F.hasNodeCssClass(e,this.CONTENT_CLASS)&&n.push(e),n=F.makeNodesUnique(n)},findParentContentNode:function(e){if(e)for(var t=e,n=0;t&&t!==c&&t.parentNode;){if(F.hasNodeAttribute(t,this.CONTENT_ATTR))return t;if(F.hasNodeCssClass(t,this.CONTENT_CLASS))return t;if(t=t.parentNode,n>1e3)break;n++}},findPieceNode:function(e){var t;return(t=F.findFirstNodeHavingAttribute(e,this.CONTENT_PIECE_ATTR))||(t=F.findFirstNodeHavingClass(e,this.CONTENT_PIECE_CLASS)),t||e},findTargetNodeNoDefault:function(e){if(e){var t=F.findFirstNodeHavingAttributeWithValue(e,this.CONTENT_TARGET_ATTR);return t||((t=F.findFirstNodeHavingAttribute(e,this.CONTENT_TARGET_ATTR))?t:(t=F.findFirstNodeHavingClass(e,this.CONTENT_TARGET_CLASS))||void 0)}},findTargetNode:function(e){var t=this.findTargetNodeNoDefault(e);return t||e},findContentName:function(e){if(e){var t=F.findFirstNodeHavingAttributeWithValue(e,this.CONTENT_NAME_ATTR);if(t)return F.getAttributeValueFromNode(t,this.CONTENT_NAME_ATTR);var n=this.findContentPiece(e);if(n)return this.removeDomainIfIsInLink(n);if(F.hasNodeAttributeWithValue(e,"title"))return F.getAttributeValueFromNode(e,"title");var r=this.findPieceNode(e);if(F.hasNodeAttributeWithValue(r,"title"))return F.getAttributeValueFromNode(r,"title");var i=this.findTargetNode(e);return F.hasNodeAttributeWithValue(i,"title")?F.getAttributeValueFromNode(i,"title"):void 0}},findContentPiece:function(e){if(e){var t=F.findFirstNodeHavingAttributeWithValue(e,this.CONTENT_PIECE_ATTR);if(t)return F.getAttributeValueFromNode(t,this.CONTENT_PIECE_ATTR);var n=this.findPieceNode(e),r=this.findMediaUrlInNode(n);return r?this.toAbsoluteUrl(r):void 0}},findContentTarget:function(e){if(e){var t,n=this.findTargetNode(e);if(F.hasNodeAttributeWithValue(n,this.CONTENT_TARGET_ATTR))return F.getAttributeValueFromNode(n,this.CONTENT_TARGET_ATTR);if(F.hasNodeAttributeWithValue(n,"href"))return t=F.getAttributeValueFromNode(n,"href"),this.toAbsoluteUrl(t);var r=this.findPieceNode(e);return F.hasNodeAttributeWithValue(r,"href")?(t=F.getAttributeValueFromNode(r,"href"),this.toAbsoluteUrl(t)):void 0}},isSameDomain:function(e){if(!e||!e.indexOf)return!1;if(0===e.indexOf(this.getLocation().origin))return!0;var t=e.indexOf(this.getLocation().host);return 8>=t&&0<=t},removeDomainIfIsInLink:function(e){return e&&e.search&&-1!==e.search(new RegExp("^https?://[^/]+"))&&this.isSameDomain(e)&&((e=e.replace(new RegExp("^.*//[^/]+"),""))||(e="/")),e},findMediaUrlInNode:function(e){if(e){var t=e.nodeName.toLowerCase();if(-1!==x(["img","embed","video","audio"],t)&&F.findFirstNodeHavingAttributeWithValue(e,"src")){var n=F.findFirstNodeHavingAttributeWithValue(e,"src");return F.getAttributeValueFromNode(n,"src")}if("object"===t&&F.hasNodeAttributeWithValue(e,"data"))return F.getAttributeValueFromNode(e,"data");if("object"===t){var r,i=F.findNodesByTagName(e,"param");if(i&&i.length)for(r=0;r<i.length;r++)if("movie"===F.getAttributeValueFromNode(i[r],"name")&&F.hasNodeAttributeWithValue(i[r],"value"))return F.getAttributeValueFromNode(i[r],"value");var o=F.findNodesByTagName(e,"embed");if(o&&o.length)return this.findMediaUrlInNode(o[0])}}},trim:function(e){return e&&String(e)===e?e.replace(/^\s+|\s+$/g,""):e},isOrWasNodeInViewport:function(e){if(!e||!e.getBoundingClientRect||1!==e.nodeType)return!0;var t=e.getBoundingClientRect(),n=c.documentElement||{},r=t.top<0;r&&e.offsetTop&&(r=e.offsetTop+t.height>0);var i=n.clientWidth;f.innerWidth&&i>f.innerWidth&&(i=f.innerWidth);var o=n.clientHeight;return f.innerHeight&&o>f.innerHeight&&(o=f.innerHeight),(t.bottom>0||r)&&t.right>0&&t.left<i&&(t.top<o||r)},isNodeVisible:function(e){var t=V(e),n=this.isOrWasNodeInViewport(e);return t&&n},buildInteractionRequestParams:function(e,t,n,r){var i="";return e&&(i+="c_i="+h(e)),t&&(i&&(i+="&"),i+="c_n="+h(t)),n&&(i&&(i+="&"),i+="c_p="+h(n)),r&&(i&&(i+="&"),i+="c_t="+h(r)),i},buildImpressionRequestParams:function(e,t,n){var r="c_n="+h(e)+"&c_p="+h(t);return n&&(r+="&c_t="+h(n)),r},buildContentBlock:function(e){if(e){var t=this.findContentName(e),n=this.findContentPiece(e),r=this.findContentTarget(e);return{name:(t=this.trim(t))||"Unknown",piece:(n=this.trim(n))||"Unknown",target:(r=this.trim(r))||""}}},collectContent:function(e){if(!e||!e.length)return[];var t,n,r=[];for(t=0;t<e.length;t++)m(n=this.buildContentBlock(e[t]))&&r.push(n);return r},setLocation:function(e){this.location=e},getLocation:function(){var e=this.location||f.location;return e.origin||(e.origin=e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")),e},toAbsoluteUrl:function(e){if((!e||String(e)!==e)&&""!==e)return e;if(""===e)return this.getLocation().href;if(-1!==e.search(/^\/\//))return this.getLocation().protocol+e;if(-1!==e.search(/:\/\//))return e;if(0===e.indexOf("#"))return this.getLocation().origin+this.getLocation().pathname+e;if(0===e.indexOf("?"))return this.getLocation().origin+this.getLocation().pathname+e;if(0===e.search("^[a-zA-Z]{2,11}:"))return e;if(-1!==e.search(/^\//))return this.getLocation().origin+e;return this.getLocation().origin+this.getLocation().pathname.match(new RegExp("(.*/)"))[0]+e},isUrlToCurrentDomain:function(e){var t=this.toAbsoluteUrl(e);if(!t)return!1;var n=this.getLocation().origin;return n===t||0===String(t).indexOf(n)&&":"!==String(t).substr(n.length,1)},setHrefAttribute:function(e,t){e&&t&&F.setAnyAttribute(e,"href",t)},shouldIgnoreInteraction:function(e){var t=F.hasNodeAttribute(e,this.CONTENT_IGNOREINTERACTION_ATTR),n=F.hasNodeCssClass(e,this.CONTENT_IGNOREINTERACTION_CLASS);return t||n}};function U(e,t){if(t)return t;if(function(e,t){return-1!==(e=String(e)).indexOf(t)}(e,"?")){var n=e.indexOf("?");e=e.slice(0,n)}if(D(e,"piwik.php"))e=M(e,"piwik.php".length);else if(D(e,".php")){var r=e.lastIndexOf("/");e=e.slice(0,r+1)}return D(e,"/js/")&&(e=M(e,"js/".length)),e}function G(e){var t="Piwik_Overlay",n=new RegExp("index\\.php\\?module=Overlay&action=startOverlaySession&idSite=([0-9]+)&period=([^&]+)&date=([^&]+)(&segment=.*)?$").exec(c.referrer);if(n){if(n[1]!==String(e))return!1;var r=n[2],i=n[3],o=n[4];o?0===o.indexOf("&segment=")&&(o=o.substr("&segment=".length)):o="",f.name=t+"###"+r+"###"+i+"###"+o}var a=f.name.split("###");return 4===a.length&&a[0]===t}function q(e,t,n){var r=f.name.split("###"),i=r[1],o=r[2],a=r[3],s=U(e,t);!function(e,t){var n=c.createElement("script");n.type="text/javascript",n.src=e,n.readyState?n.onreadystatechange=function(){var e=this.readyState;"loaded"!==e&&"complete"!==e||(n.onreadystatechange=null,t())}:n.onload=t,c.getElementsByTagName("head")[0].appendChild(n)}(s+"plugins/Overlay/client/client.js?v=1",function(){Piwik_Overlay_Client.initialize(s,n,i,o,a)})}function K(e,t){var r,s,v,_,C,L,M,V,U,J,W,z,Y,B,Q,X=function(e,t,n){return e||(e=""),t||(t=""),"translate.googleusercontent.com"===e?(""===n&&(n=t),e=I(t=P(t,"u"))):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e&&"74.6."!==e.slice(0,5)||(e=I(t=c.links[0].href)),[e,t,n]}(c.domain,f.location.href,function(){var e="";try{e=f.top.document.referrer}catch(t){if(f.parent)try{e=f.parent.document.referrer}catch(t){e=""}}return""===e&&(e=c.referrer),e}()),$=R(X[0]),Z=y(X[1]),ee=y(X[2]),te=!1,ne="GET",re="application/x-www-form-urlencoded; charset=UTF-8",ie=re,oe=e||"",ae="",se="",ce=t||"",ue="",le="",fe="",de=["7z","aac","apk","arc","arj","asf","asx","avi","azw3","bin","csv","deb","dmg","doc","docx","epub","exe","flv","gif","gz","gzip","hqx","ibooks","jar","jpg","jpeg","js","mobi","mp2","mp3","mp4","mpg","mpeg","mov","movie","msi","msp","odb","odf","odg","ods","odt","ogg","ogv","pdf","phps","png","ppt","pptx","qt","qtm","ra","ram","rar","rpm","sea","sit","tar","tbz","tbz2","bz","bz2","tgz","torrent","txt","wav","wma","wmv","wpd","xls","xlsx","xml","z","zip"],he=[$],pe=[],ge=[],ve=[],ye=500,me=["pk_campaign","piwik_campaign","utm_campaign","utm_source","utm_medium"],Ee=["pk_kwd","piwik_kwd","utm_term"],we="_pk_",be=!1,_e=339552e5,Ce=18e5,Te=15768e6,Se=!0,Ne=0,ke=!1,Oe=!1,Ie={},Pe={},Ae={},Re={},Le={},xe=[],je=!1,De=!1,Me=!1,Ve=!1,Fe=!1,He=function(){var e;try{e=f.frameElement}catch(e){return!0}if(m(e))return!(!e||"iframe"!==String(e.nodeName).toLowerCase());try{return f.self!==f.top}catch(e){return!0}}(),Ue=null,Ge=A;try{fe=c.title}catch(e){fe=""}function qe(e,t,n,r,i,o){var a;be||(n&&(a=new Date).setTime(a.getTime()+n),c.cookie=e+"="+h(t)+(n?";expires="+a.toGMTString():"")+";path="+(r||"/")+(i?";domain="+i:"")+(o?";secure":""))}function Ke(e){if(be)return 0;var t=new RegExp("(^|;)[ ]*"+e+"=([^;]*)").exec(c.cookie);return t?p(t[2]):0}function Je(e){var t;return _?(t=new RegExp("#.*"),e.replace(t,"")):e}function We(e,t){var n;if((e=String(e).toLowerCase())===(t=String(t).toLowerCase()))return!0;if("."===t.slice(0,1)){if(e===t.slice(1))return!0;if((n=e.length-t.length)>0&&e.slice(n)===t)return!0}return!1}function ze(e){var t=document.createElement("a");return 0!==e.indexOf("//")&&0!==e.indexOf("http")&&(0===e.indexOf("*")&&(e=e.substr(1)),0===e.indexOf(".")&&(e=e.substr(1)),e="http://"+e),t.href=H.toAbsoluteUrl(e),t.pathname?t.pathname:""}function Ye(e,t){j(t,"/")||(t="/"+t),j(e,"/")||(e="/"+e);var n="/"===t||"/*"===t;return!!n||(e===t||(t=String(t).toLowerCase(),e=String(e).toLowerCase(),D(t,"*")?!!(n=!(t=t.slice(0,-1))||"/"===t)||(e===t||0===e.indexOf(t)):(D(e,"/")||(e+="/"),D(t,"/")||(t+="/"),0===e.indexOf(t))))}function Be(e){var t,n,r;for(t=0;t<he.length;t++){if(e===(n=R(he[t].toLowerCase())))return!0;if("."===n.slice(0,1)){if(e===n.slice(1))return!0;if((r=e.length-n.length)>0&&e.slice(r)===n)return!0}}return!1}function Qe(e,t){var n=new Image(1,1);n.onload=function(){i=0,"function"==typeof t&&t()},e=e.replace("send_image=0","send_image=1"),n.src=oe+(oe.indexOf("?")<0?"?":"&")+e}function Xe(e,t,n){m(n)&&null!==n||(n=!0);try{var r=f.XMLHttpRequest?new f.XMLHttpRequest:f.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;r.open("POST",oe,!0),r.onreadystatechange=function(){4!==this.readyState||this.status>=200&&this.status<300||!n?4===this.readyState&&"function"==typeof t&&t():Qe(e,t)},r.setRequestHeader("Content-Type",ie),r.send(e)}catch(r){n&&Qe(e,t)}}function $e(e){var t=(new Date).getTime()+e;(!n||t>n)&&(n=t)}function Ze(e){!z&&s&&(z=setTimeout(function(){if(z=null,He||(He=!c.hasFocus||c.hasFocus()),He){if(!v()){var e=new Date,t=s-(e.getTime()-Ue);Ze(t=Math.min(s,t))}}else Ze(s)},e||s))}function et(){He=!0,v()||Ze()}function tt(){z&&(clearTimeout(z),z=null)}function nt(){!Fe&&s&&(Fe=!0,T(f,"focus",et),T(f,"blur",tt),Ze())}function rt(e){var t=(new Date).getTime();if(Ue=t,De&&t<De){var n=De-t;return setTimeout(e,n),$e(n+50),void(De+=50)}if(!1===De){De=t+800}e()}function it(e,t,n){!V&&e&&rt(function(){"POST"===ne?Xe(e,n):Qe(e,n),$e(t)}),Fe?Ze():nt()}function ot(e,t){if(function(e){return!V&&e&&e.length}(e)){var n='{"requests":["?'+e.join('","?')+'"]}';rt(function(){Xe(n,null,!1),$e(t)})}}function at(e){return we+e+"."+ce+"."+Q}function st(){if(be)return"0";if(!m(u.cookieEnabled)){var e=at("testcookie");return qe(e,"1"),"1"===Ke(e)?"1":"0"}return u.cookieEnabled?"1":"0"}function ct(){Q=Ge((L||$)+(M||"/")).slice(0,4)}function ut(){var e=Ke(at("cvar"));return e.length&&w(e=JSON2.parse(e))?e:{}}function lt(){!1===Oe&&(Oe=ut())}function ft(){var e,t=new Date,n=Math.round(t.getTime()/1e3),r=Ke(at("id"));return r?((e=r.split(".")).unshift("0"),le.length&&(e[1]=le),e):e=["1",le.length?le:"0"===st()?"":Ge((u.userAgent||"")+(u.platform||"")+JSON2.stringify(Le)+(new Date).getTime()+Math.random()).slice(0,16),n,0,n,"",""]}function dt(){var e=ft(),t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5];return m(e[6])||(e[6]=""),{newVisitor:t,uuid:n,createTs:r,visitCount:i,currentVisitTs:o,lastVisitTs:a,lastEcommerceOrderTs:e[6]}}function ht(e){if(ce){var t=new Date,n=Math.round(t.getTime()/1e3);m(e)||(e=dt());var r=e.uuid+"."+e.createTs+"."+e.visitCount+"."+n+"."+e.lastVisitTs+"."+e.lastEcommerceOrderTs;qe(at("id"),r,function(){var e=(new Date).getTime(),t=dt().createTs;return 1e3*parseInt(t,10)+_e-e}(),M,L)}}function pt(){var e=Ke(at("ref"));if(e.length)try{if(w(e=JSON2.parse(e)))return e}catch(e){}return["","",0,""]}function gt(e,t,n){qe(e,"",-86400,t,n)}function vt(){var e=be;be=!1;var t,n,r=["id","ses","cvar","ref"];for(t=0;t<r.length;t++)0!==Ke(n=at(r[t]))&&gt(n,M,L);be=e}function yt(e){if(e&&w(e)){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);var r={};n.sort();var i,o=n.length;for(i=0;i<o;i++)r[n[i]]=e[n[i]];return r}}function mt(e,t,n,i){var o,a,s,u,l,f,p,g=new Date,v=Math.round(g.getTime()/1e3),y=Oe,w=at("ses"),b=at("ref"),_=at("cvar"),T=Ke(w),S=pt(),N=r||Z;if(be&&vt(),V)return"";var O=dt();m(i)||(i="");var A=c.characterSet||c.charset;if(A&&"utf-8"!==A.toLowerCase()||(A=null),f=S[0],p=S[1],a=S[2],s=S[3],!T){var R=Ce/1e3;if((!O.lastVisitTs||v-O.lastVisitTs>R)&&(O.visitCount++,O.lastVisitTs=O.currentVisitTs),!J||!f.length){for(o in me)if(Object.prototype.hasOwnProperty.call(me,o)&&(f=P(N,me[o])).length)break;for(o in Ee)if(Object.prototype.hasOwnProperty.call(Ee,o)&&(p=P(N,Ee[o])).length)break}u=I(ee),l=s.length?I(s):"",!u.length||Be(u)||J&&l.length&&!Be(l)||(s=ee),(s.length||f.length)&&(S=[f,p,a=v,Je(s.slice(0,1024))],qe(b,JSON2.stringify(S),Te,M,L))}for(o in e+="&idsite="+ce+"&rec=1&r="+String(Math.random()).slice(2,8)+"&h="+g.getHours()+"&m="+g.getMinutes()+"&s="+g.getSeconds()+"&url="+h(Je(N))+(ee.length?"&urlref="+h(Je(ee)):"")+(ue&&ue.length?"&uid="+h(ue):"")+"&_id="+O.uuid+"&_idts="+O.createTs+"&_idvc="+O.visitCount+"&_idn="+O.newVisitor+(f.length?"&_rcn="+h(f):"")+(p.length?"&_rck="+h(p):"")+"&_refts="+a+"&_viewts="+O.lastVisitTs+(String(O.lastEcommerceOrderTs).length?"&_ects="+O.lastEcommerceOrderTs:"")+(String(s).length?"&_ref="+h(Je(s.slice(0,1024))):"")+(A?"&cs="+h(A):"")+"&send_image=0",Le)Object.prototype.hasOwnProperty.call(Le,o)&&(e+="&"+o+"="+Le[o]);var j=[];if(t)for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&/^dimension\d+$/.test(o)){var D=o.replace("dimension","");j.push(parseInt(D,10)),j.push(String(D)),e+="&"+o+"="+t[o],delete t[o]}for(o in t&&function(e){if(!e)return!0;var t,n=!0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n=!1);return n}(t)&&(t=null),Ae){if(Object.prototype.hasOwnProperty.call(Ae,o))-1===x(j,o)&&(e+="&dimension"+o+"="+Ae[o])}function F(e,t){var n=JSON2.stringify(e);return n.length>2?"&"+t+"="+h(n):""}t?e+="&data="+h(JSON2.stringify(t)):C&&(e+="&data="+h(JSON2.stringify(C)));var H=yt(Ie),U=yt(Pe);if(e+=F(H,"cvar"),e+=F(U,"e_cvar"),Oe){for(o in e+=F(Oe,"_cvar"),y)Object.prototype.hasOwnProperty.call(y,o)&&(""!==Oe[o][0]&&""!==Oe[o][1]||delete Oe[o]);ke&&qe(_,JSON2.stringify(Oe),Ce,M,L)}return Se&&(Ne?e+="&gt_ms="+Ne:d&&d.timing&&d.timing.requestStart&&d.timing.responseEnd&&(e+="&gt_ms="+(d.timing.responseEnd-d.timing.requestStart))),O.lastEcommerceOrderTs=m(i)&&String(i).length?i:O.lastEcommerceOrderTs,ht(O),qe(at("ses"),"*",Ce,M,L),e+=k(n),se.length&&(e+="&"+se),E(W)&&(e=W(e)),e}function Et(e,t,n,r,i,o){var a,s,c="idgoal=0",u=new Date,l=[],f=String(e).length;if(f&&(c+="&ec_id="+h(e),a=Math.round(u.getTime()/1e3)),c+="&revenue="+t,String(n).length&&(c+="&ec_st="+n),String(r).length&&(c+="&ec_tx="+r),String(i).length&&(c+="&ec_sh="+i),String(o).length&&(c+="&ec_dt="+o),Re){for(s in Re)Object.prototype.hasOwnProperty.call(Re,s)&&(m(Re[s][1])||(Re[s][1]=""),m(Re[s][2])||(Re[s][2]=""),m(Re[s][3])&&0!==String(Re[s][3]).length||(Re[s][3]=0),m(Re[s][4])&&0!==String(Re[s][4]).length||(Re[s][4]=1),l.push(Re[s]));c+="&ec_items="+h(JSON2.stringify(l))}it(c=mt(c,C,"ecommerce",a),ye),f&&(Re={})}function wt(e,t,n){it(mt("action_name="+h(function(e){if(!b(e=e&&e.text?e.text:e)){var t=c.getElementsByTagName("title");t&&m(t[0])&&(e=t[0].text)}return e}(e||fe)),t,"log"),ye,n)}function bt(e,t){var n,r="(^| )(piwik[_-]"+t;if(e)for(n=0;n<e.length;n++)r+="|"+e[n];return r+=")( |$)",new RegExp(r)}function _t(e){return oe&&e&&0===String(e).indexOf(oe)}function Ct(e){if((e=function(e){var t;for(t=e.parentNode;null!==t&&m(t)&&!F.isLinkElement(e);)t=(e=t).parentNode;return e}(e),F.hasNodeAttribute(e,"href"))&&(m(e.href)&&!_t(F.getAttributeValueFromNode(e,"href")))){var t=e.pathname||ze(e.href),n=e.hostname||I(e.href),r=n.toLowerCase(),i=e.href.replace(n,r);if(!new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto|tel):","i").test(i)){var o=function(e,t,n,r){if(_t(t))return 0;var i=bt(ge,"download"),o=bt(ve,"link"),a=new RegExp("\\.("+de.join("|")+")([?&#]|$)","i");return o.test(e)?"link":r||i.test(e)||a.test(t)?"download":n?0:"link"}(e.className,i,function(e,t){var n,r,i;for(n=0;n<he.length;n++)if(r=R(he[n]),i=ze(he[n]),We(e,r)&&Ye(t,i))return!0;return!1}(r,t),F.hasNodeAttribute(e,"download"));if(o)return{type:o,href:i}}}}function Tt(e,t,n,r){var i=H.buildInteractionRequestParams(e,t,n,r);if(i)return mt(i,null,"contentInteraction")}function St(e,t){if(!e||!t)return!1;var n=H.findTargetNode(e);return!H.shouldIgnoreInteraction(n)&&!((n=H.findTargetNodeNoDefault(e))&&!function(e,t){return!(!e||!t)&&(e.contains?e.contains(t):e===t||!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t)))}(n,t))}function Nt(e){if(!xe||!xe.length)return!1;var t,n;for(t=0;t<xe.length;t++)if((n=xe[t])&&n.name===e.name&&n.piece===e.piece&&n.target===e.target)return!0;return!1}function kt(e){if(!e)return!1;var t=H.findTargetNode(e);if(!t||H.shouldIgnoreInteraction(t))return!1;var n=Ct(t);if(Ve&&n&&n.type)return!1;if(F.isLinkElement(t)&&F.hasNodeAttributeWithValue(t,"href")){var r=String(F.getAttributeValueFromNode(t,"href"));if(0===r.indexOf("#"))return!1;if(_t(r))return!0;if(!H.isUrlToCurrentDomain(r))return!1;var i=H.buildContentBlock(e);if(!i)return;var o=i.name,a=i.piece,s=i.target;F.hasNodeAttributeWithValue(t,H.CONTENT_TARGET_ATTR)&&!t.wasContentTargetAttrReplaced||(t.wasContentTargetAttrReplaced=!0,s=H.toAbsoluteUrl(r),F.setAnyAttribute(t,H.CONTENT_TARGET_ATTR,s));var c=function(e,t,n,r,i){if(m(e)){if(_t(e))return e;var o=H.toAbsoluteUrl(e),a="redirecturl="+h(o)+"&";a+=Tt(t,n,r,i||e);var s="&";return oe.indexOf("?")<0&&(s="?"),oe+s+a}}(r,"click",o,a,s);return H.setHrefAttribute(t,c),!0}return!1}function Ot(e){return function(t){if(e){var n,r=H.findParentContentNode(e);if(t&&(n=t.target||t.srcElement),n||(n=e),St(r,n)){if($e(ye),F.isLinkElement(e)&&F.hasNodeAttributeWithValue(e,"href")&&F.hasNodeAttributeWithValue(e,H.CONTENT_TARGET_ATTR))!_t(F.getAttributeValueFromNode(e,"href"))&&e.wasContentTargetAttrReplaced&&F.setAnyAttribute(e,H.CONTENT_TARGET_ATTR,"");var i=Ct(e);if(Me&&i&&i.type)return i.type;if(kt(r))return"href";var o=H.buildContentBlock(r);if(o){var a=Tt("click",o.name,o.piece,o.target);return it(a,ye),a}}}}}function It(e,t){if(!e||!e.length)return[];var n,r;for(n=0;n<e.length;n++)Nt(e[n])?(e.splice(n,1),n--):xe.push(e[n]);if(!e||!e.length)return[];!function(e){var t;if(e&&e.length)for(t=0;t<e.length;t++)kt(e[t])}(t),function(e){var t,n;if(e&&e.length)for(t=0;t<e.length;t++)(n=H.findTargetNode(e[t]))&&!n.contentInteractionTrackingSetupDone&&(n.contentInteractionTrackingSetupDone=!0,T(n,"click",Ot(n)))}(t);var i=[];for(n=0;n<e.length;n++)(r=mt(H.buildImpressionRequestParams(e[n].name,e[n].piece,e[n].target),void 0,"contentImpressions"))&&i.push(r);return i}function Pt(e){return It(H.collectContent(e),e)}function At(e){if(!e||!e.length)return[];var t;for(t=0;t<e.length;t++)H.isNodeVisible(e[t])||(e.splice(t,1),t--);return e&&e.length?Pt(e):[]}function Rt(e,t,n,r,i){if(0===String(e).length||0===String(t).length)return!1;it(mt(function(e,t,n,r){return"e_c="+h(e)+"&e_a="+h(t)+(m(n)?"&e_n="+h(n):"")+(m(r)?"&e_v="+h(r):"")}(e,t,n,r),i,"event"),ye)}function Lt(e,t,n,r,i){var o=t+"="+h(Je(e)),a=function(e,t,n){if(e){var r=H.findParentContentNode(e);if(r&&St(r,e)){var i=H.buildContentBlock(r);if(i)return!i.target&&n&&(i.target=n),H.buildInteractionRequestParams(t,i.name,i.piece,i.target)}}}(i,"click",e);a&&(o+="&"+a),it(mt(o,n,"link"),r?0:ye,r)}function xt(e,t){return""!==e?e+t.charAt(0).toUpperCase()+t.slice(1):t}function jt(e){var t,n,r,i=["","webkit","ms","moz"];if(!U)for(n=0;n<i.length;n++)if(r=i[n],Object.prototype.hasOwnProperty.call(c,xt(r,"hidden"))){"prerender"===c[xt(r,"visibilityState")]&&(t=!0);break}t?T(c,r+"visibilitychange",function t(){c.removeEventListener(r+"visibilitychange",t,!1),e()}):e()}function Dt(e){var t=Ct(e);t&&t.type&&(t.href=y(t.href),Lt(t.href,t.type,void 0,null,e))}function Mt(e){var t=e.which,n=typeof e.button;return t||"undefined"===n||(c.all&&!c.addEventListener?1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2):0===e.button||"0"===e.button?t=1:1&e.button?t=2:2&e.button&&(t=3)),t}function Vt(e){return function(t){var n=function(e){switch(Mt(e)){case 1:return"left";case 2:return"middle";case 3:return"right"}}(t=t||f.event),r=function(e){return e.target||e.srcElement}(t);if("click"===t.type){var i=!1;e&&"middle"===n&&(i=!0),r&&!i&&Dt(r)}else"mousedown"===t.type?"middle"===n&&r?(Y=n,B=r):Y=B=null:"mouseup"===t.type?(n===Y&&r===B&&Dt(r),Y=B=null):"contextmenu"===t.type&&Dt(r)}}function Ft(e,t){T(e,"click",Vt(t),!1),t&&(T(e,"mouseup",Vt(t),!1),T(e,"mousedown",Vt(t),!1),T(e,"contextmenu",Vt(t),!1))}v=function(){var e=new Date;return Ue+s<=e.getTime()&&(it(mt("ping=1",null,"ping"),ye),!0)},function(){var e,t,n={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"};if(!new RegExp("MSIE").test(u.userAgent)){if(u.mimeTypes&&u.mimeTypes.length)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t=u.mimeTypes[n[e]],Le[e]=t&&t.enabledPlugin?"1":"0");"unknown"!=typeof navigator.javaEnabled&&m(u.javaEnabled)&&u.javaEnabled()&&(Le.java="1"),E(f.GearsFactory)&&(Le.gears="1"),Le.cookie=st()}var r=parseInt(l.width,10),i=parseInt(l.height,10);Le.res=parseInt(r,10)+"x"+parseInt(i,10)}(),ct(),ht(),this.getVisitorId=function(){return dt().uuid},this.getVisitorInfo=function(){return ft()},this.getAttributionInfo=function(){return pt()},this.getAttributionCampaignName=function(){return pt()[0]},this.getAttributionCampaignKeyword=function(){return pt()[1]},this.getAttributionReferrerTimestamp=function(){return pt()[2]},this.getAttributionReferrerUrl=function(){return pt()[3]},this.setTrackerUrl=function(e){oe=e},this.getTrackerUrl=function(){return oe},this.addTracker=function(e,t){if(!t)throw new Error("A siteId must be given to add a new tracker");m(e)&&null!==e||(e=this.getTrackerUrl());var n=new K(e,t);return g.push(n),n},this.getSiteId=function(){return ce},this.setSiteId=function(e){!function(e){ce=e,ht()}(e)},this.setUserId=function(e){m(e)&&e.length&&(le=Ge(ue=e).substr(0,16))},this.getUserId=function(){return ue},this.setCustomData=function(e,t){w(e)?C=e:(C||(C={}),C[e]=t)},this.getCustomData=function(){return C},this.setCustomRequestProcessing=function(e){W=e},this.appendToTrackingUrl=function(e){se=e},this.getRequest=function(e){return mt(e)},this.addPlugin=function(e,t){a[e]=t},this.setCustomDimension=function(e,t){(e=parseInt(e,10))>0&&(m(t)||(t=""),b(t)||(t=String(t)),Ae[e]=t)},this.getCustomDimension=function(e){if((e=parseInt(e,10))>0&&Object.prototype.hasOwnProperty.call(Ae,e))return Ae[e]},this.deleteCustomDimension=function(e){(e=parseInt(e,10))>0&&delete Ae[e]},this.setCustomVariable=function(e,t,n,r){var i;m(r)||(r="visit"),m(t)&&(m(n)||(n=""),e>0&&(t=b(t)?t:String(t),n=b(n)?n:String(n),i=[t.slice(0,200),n.slice(0,200)],"visit"===r||2===r?(lt(),Oe[e]=i):"page"===r||3===r?Ie[e]=i:"event"===r&&(Pe[e]=i)))},this.getCustomVariable=function(e,t){var n;return m(t)||(t="visit"),"page"===t||3===t?n=Ie[e]:"event"===t?n=Pe[e]:"visit"!==t&&2!==t||(lt(),n=Oe[e]),!(!m(n)||n&&""===n[0])&&n},this.deleteCustomVariable=function(e,t){this.getCustomVariable(e,t)&&this.setCustomVariable(e,"","",t)},this.storeCustomVariablesInCookie=function(){ke=!0},this.setLinkTrackingTimer=function(e){ye=e},this.setDownloadExtensions=function(e){b(e)&&(e=e.split("|")),de=e},this.addDownloadExtensions=function(e){var t;for(b(e)&&(e=e.split("|")),t=0;t<e.length;t++)de.push(e[t])},this.removeDownloadExtensions=function(e){var t,n=[];for(b(e)&&(e=e.split("|")),t=0;t<de.length;t++)-1===x(e,de[t])&&n.push(de[t]);de=n},this.setDomains=function(e){he=b(e)?[e]:e;for(var t,n=!1,r=0;r<he.length;r++){if(t=String(he[r]),We($,R(t))){n=!0;break}var i=ze(t);if(i&&"/"!==i&&"/*"!==i){n=!0;break}}n||he.push($)},this.setIgnoreClasses=function(e){pe=b(e)?[e]:e},this.setRequestMethod=function(e){ne=e||"GET"},this.setRequestContentType=function(e){ie=e||re},this.setReferrerUrl=function(e){ee=e},this.setCustomUrl=function(e){r=function(e,t){var n;return O(t)?t:"/"===t.slice(0,1)?O(e)+"://"+I(e)+t:((n=(e=Je(e)).indexOf("?"))>=0&&(e=e.slice(0,n)),(n=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,n+1)),e+t)}(Z,e)},this.setDocumentTitle=function(e){fe=e},this.setAPIUrl=function(e){ae=e},this.setDownloadClasses=function(e){ge=b(e)?[e]:e},this.setLinkClasses=function(e){ve=b(e)?[e]:e},this.setCampaignNameKey=function(e){me=b(e)?[e]:e},this.setCampaignKeywordKey=function(e){Ee=b(e)?[e]:e},this.discardHashTag=function(e){_=e},this.setCookieNamePrefix=function(e){we=e,Oe=ut()},this.setCookieDomain=function(e){var t=R(e);(function(e){var t="testvalue";return qe("test",t,1e4,null,e),Ke("test")===t&&(gt("test",null,e),!0)})(t)&&(L=t,ct())},this.setCookiePath=function(e){M=e,ct()},this.setVisitorCookieTimeout=function(e){_e=1e3*e},this.setSessionCookieTimeout=function(e){Ce=1e3*e},this.setReferralCookieTimeout=function(e){Te=1e3*e},this.setConversionAttributionFirstReferrer=function(e){J=e},this.disableCookies=function(){be=!0,Le.cookie="0",ce&&vt()},this.deleteCookies=function(){vt()},this.setDoNotTrack=function(e){var t=u.doNotTrack||u.msDoNotTrack;(V=e&&("yes"===t||"1"===t))&&this.disableCookies()},this.addListener=function(e,t){Ft(e,t)},this.enableLinkTracking=function(e){Ve=!0,jt(function(){N(function(){!function(e){if(!Me){Me=!0;var t,n=bt(pe,"ignore"),r=c.links;if(r)for(t=0;t<r.length;t++)n.test(r[t].className)||Ft(r[t],e)}}(e)})})},this.enableJSErrorTracking=function(){if(!te){te=!0;var e=f.onerror;f.onerror=function(t,n,r,i,o){return jt(function(){var e=n+":"+r;i&&(e+=":"+i),Rt("JavaScript Errors",e,t)}),!!e&&e(t,n,r,i,o)}}},this.disablePerformanceTracking=function(){Se=!1},this.setGenerationTimeMs=function(e){Ne=parseInt(e,10)},this.enableHeartBeatTimer=function(e){e=Math.max(e,1),s=1e3*(e||15),null!==Ue&&nt()},this.killFrame=function(){f.location!==f.top.location&&(f.top.location=f.location)},this.redirectFile=function(e){"file:"===f.location.protocol&&(f.location=e)},this.setCountPreRendered=function(e){U=e},this.trackGoal=function(e,t,n){jt(function(){!function(e,t,n){it(mt("idgoal="+e+(t?"&revenue="+t:""),n,"goal"),ye)}(e,t,n)})},this.trackLink=function(e,t,n,r){jt(function(){Lt(e,t,n,r)})},this.trackPageView=function(e,t,n){xe=[],G(ce)?jt(function(){q(oe,ae,ce)}):jt(function(){wt(e,t,n)})},this.trackAllContentImpressions=function(){G(ce)||jt(function(){N(function(){ot(Pt(H.findContentNodes()),ye)})})},this.trackVisibleContentImpressions=function(e,t){G(ce)||(m(e)||(e=!0),m(t)||(t=750),function(e,t,n){if(je)return!0;je=!0;var r,i,o=!1;function a(){o=!0}S(function(){if(e){for(r=["scroll","resize"],i=0;i<r.length;i++)c.addEventListener?c.addEventListener(r[i],a):f.attachEvent("on"+r[i],a);!function e(t){setTimeout(function(){je&&(o&&(o=!1,n.trackVisibleContentImpressions()),e(t))},t)}(100)}t&&t>0&&function e(t){setTimeout(function(){je&&(o=!1,n.trackVisibleContentImpressions(),e(t))},t)}(t=parseInt(t,10))})}(e,t,this),jt(function(){S(function(){ot(At(H.findContentNodes()),ye)})}))},this.trackContentImpression=function(e,t,n){G(ce)||e&&(t=t||"Unknown",jt(function(){it(function(e,t,n){return mt(H.buildImpressionRequestParams(e,t,n),null,"contentImpression")}(e,t,n),ye)}))},this.trackContentImpressionsWithinNode=function(e){!G(ce)&&e&&jt(function(){je?S(function(){ot(At(H.findContentNodesWithinNode(e)),ye)}):N(function(){ot(Pt(H.findContentNodesWithinNode(e)),ye)})})},this.trackContentInteraction=function(e,t,n,r){G(ce)||e&&t&&(n=n||"Unknown",jt(function(){it(Tt(e,t,n,r),ye)}))},this.trackContentInteractionNode=function(e,t){!G(ce)&&e&&jt(function(){it(function(e,t){if(e){var n=H.findParentContentNode(e),r=H.buildContentBlock(n);if(r)return t||(t="Unknown"),Tt(t,r.name,r.piece,r.target)}}(e,t),ye)})},this.logAllContentBlocksOnPage=function(){var e=H.findContentNodes(),t=H.collectContent(e);void 0!==console&&console&&console.log&&console.log(t)},this.trackEvent=function(e,t,n,r,i){jt(function(){Rt(e,t,n,r,i)})},this.trackSiteSearch=function(e,t,n,r){jt(function(){!function(e,t,n,r){it(mt("search="+h(e)+(t?"&search_cat="+h(t):"")+(m(n)?"&search_count="+n:""),r,"sitesearch"),ye)}(e,t,n,r)})},this.setEcommerceView=function(e,t,n,r){m(n)&&n.length?n instanceof Array&&(n=JSON2.stringify(n)):n="",Ie[5]=["_pkc",n],m(r)&&String(r).length&&(Ie[2]=["_pkp",r]),(m(e)&&e.length||m(t)&&t.length)&&(m(e)&&e.length&&(Ie[3]=["_pks",e]),m(t)&&t.length||(t=""),Ie[4]=["_pkn",t])},this.addEcommerceItem=function(e,t,n,r,i){e.length&&(Re[e]=[e,t,n,r,i])},this.trackEcommerceOrder=function(e,t,n,r,i,o){!function(e,t,n,r,i,o){String(e).length&&m(t)&&Et(e,t,n,r,i,o)}(e,t,n,r,i,o)},this.trackEcommerceCartUpdate=function(e){!function(e){m(e)&&Et("",e,"","","","")}(e)},this.trackRequest=function(e,t,n){jt(function(){it(mt(e,t),ye,n)})},o.trigger("TrackerSetup",[this])}function J(){return{push:C}}var W=["addTracker","disableCookies","setTrackerUrl","setAPIUrl","setCookiePath","setCookieDomain","setDomains","setUserId","setSiteId","enableLinkTracking"];function z(e,t){var n=new K(e,t);for(g.push(n),_paq=function(e,t){var n,r,i={};for(n=0;n<t.length;n++){var o=t[n];for(i[o]=1,r=0;r<e.length;r++)if(e[r]&&e[r][0]){var a=e[r][0];o===a&&(C(e[r]),delete e[r],i[a]>1&&_("The method "+a+' is registered more than once in "_paq" variable. Only the last call has an effect. Please have a look at the multiple Piwik trackers documentation: http://developer.piwik.org/guides/tracking-javascript-guide#multiple-piwik-trackers'),i[a]++)}}return e}(_paq,W),i=0;i<_paq.length;i++)_paq[i]&&C(_paq[i]);return _paq=new J,n}return T(f,"beforeunload",function(){var e;if(k("unload"),n)do{e=new Date}while(e.getTimeAlias()<n)},!1),Date.prototype.getTimeAlias=Date.prototype.getTime,o={initialized:!1,DOM:{addEventListener:function(e,t,n,r){"undefined"===typeof r&&(r=!1),T(e,t,n,r)},onLoad:S,onReady:N},on:function(e,t){s[e]||(s[e]=[]),s[e].push(t)},off:function(e,t){if(s[e])for(var n=0;n<s[e].length;n++)s[e][n]===t&&s[e].splice(n,1)},trigger:function(e,t,n){if(s[e])for(var r=0;r<s[e].length;r++)s[e][r].apply(n||f,t)},addPlugin:function(e,t){a[e]=t},getTracker:function(e,t){return m(t)||(t=this.getAsyncTracker().getSiteId()),m(e)||(e=this.getAsyncTracker().getTrackerUrl()),new K(e,t)},getAsyncTrackers:function(){return g},addTracker:function(e,t){g.length?g[0].addTracker(e,t):z(e,t)},getAsyncTracker:function(e,t){var n;if(!(g&&g.length&&g[0]))return z(e,t);if(n=g[0],!t&&!e)return n;m(t)&&null!==t||!n||(t=n.getSiteId()),m(e)&&null!==e||!n||(e=n.getTrackerUrl());for(var r,i=0;i<g.length;i++)if((r=g[i])&&String(r.getSiteId())===String(t)&&r.getTrackerUrl()===e)return r},retryMissedPluginCalls:function(){var e=v;v=[];for(var t=0;t<e.length;t++)C(e[t])}},void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r),o}()),function(){if(window&&"object"==typeof window.piwikPluginAsyncInit&&window.piwikPluginAsyncInit.length)for(var e=0;e<window.piwikPluginAsyncInit.length;e++)"function"==typeof window.piwikPluginAsyncInit[e]&&window.piwikPluginAsyncInit[e]();window&&window.piwikAsyncInit&&window.piwikAsyncInit(),window.Piwik.getAsyncTrackers().length||"object"==typeof _paq&&void 0!==_paq.length&&_paq.length&&window.Piwik.addTracker(),window.Piwik.trigger("PiwikInitialized",[]),window.Piwik.initialized=!0}(),"undefined"==typeof AnalyticsTracker&&(AnalyticsTracker=window.Piwik),"function"!=typeof piwik_log&&(piwik_log=function(e,t,n,r){function i(e){try{if(window["piwik_"+e])return window["piwik_"+e]}catch(e){}}var o,a=window.Piwik.getTracker(n,t);a.setDocumentTitle(e),a.setCustomData(r),(o=i("tracker_pause"))&&a.setLinkTrackingTimer(o),(o=i("download_extensions"))&&a.setDownloadExtensions(o),(o=i("hosts_alias"))&&a.setDomains(o),(o=i("ignore_classes"))&&a.setIgnoreClasses(o),a.trackPageView(),i("install_tracker")&&(piwik_track=function(e,t,n,r){a.setSiteId(t),a.setTrackerUrl(n),a.trackLink(e,r)},a.enableLinkTracking())})},function(e,t){String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})},function(e,t){!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),void 0!==window.customEvent&&window.customEvent.prototype===window.Event.prototype&&(window.customEvent=window.CustomEvent)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileTagEventNames=t.ProfileTagLoaded=t.DebugFlagChanged=t.ConsentReferenceChanged=t.WindowDispatcher=void 0;var r=function(){function e(e,t){this._winRef=e,this._logger=t,this.dispatchingEnabled=!1,this.events={}}return e.getDispatcher=function(){return e.eventDispatcher},e.createDispatcher=function(t,n){e.eventDispatcher||(e.eventDispatcher=new e(t,n))},e.prototype.dispatchDebugFlagChanged=function(e){this.dispatchIfEnabled(new o(e))},e.prototype.dispatchConsentReferenceChanged=function(e){this.dispatchIfEnabled(new i(e))},e.prototype.dispatchProfileTagLoaded=function(){this.dispatchImmediately(new s)},e.prototype.enableDispatching=function(){this.dispatchingEnabled=!0,this.dispatchQueuedEvents()},e.prototype.createEvent=function(e){return new CustomEvent(e.name,{detail:e.data})},e.prototype.queueEvent=function(e,t){this.events[e]=t},e.prototype.dispatchQueuedEvents=function(){for(var e in this.events){var t=this.events[e];this._logger.info("dispatching event "+e),this._winRef.dispatchEvent(t)}this.events={}},e.prototype.dispatchIfEnabled=function(e){var t=this.createEvent(e);this.dispatchingEnabled?(this._logger.info("dispatching event "+e.name),this._winRef.dispatchEvent(t)):this.queueEvent(e.name,t)},e.prototype.dispatchImmediately=function(e){var t=this.createEvent(e);this._logger.info("dispatching event "+e.name),this._winRef.dispatchEvent(t)},e}();t.WindowDispatcher=r;var i=function(e){this.name=a.ConsentReferenceChanged,this.data={consentReference:void 0},this.data.consentReference=e};t.ConsentReferenceChanged=i;var o=function(e){this.name=a.DebugFlagChanged,this.data={debug:!1},this.data.debug=e};t.DebugFlagChanged=o;var a,s=function(){this.name=a.Loaded};t.ProfileTagLoaded=s,function(e){e.Loaded="profiletag_loaded",e.ConsentReferenceChanged="profiletag_consentReferenceLoaded",e.DebugFlagChanged="profiletag_debugFlagChanged"}(a=t.ProfileTagEventNames||(t.ProfileTagEventNames={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequest=t.generateFunctionForDataSelection=t.applyMappings=t.stop=t.start=void 0;var o,a=n(13),s=n(2),c=n(1),u=n(14),l=n(37),f=n(40),d=n(41),h=n(19),p=n(53),g=n(54),v=n(55),y=n(57),m=n(17),E=new p.ProfileTagIntersectionObserver(c);function w(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return c.info("Site ID: "+e.siteId),c.info("CDS Site ID: "+e.cdsSiteId),t=g.getMatches(e),g.printAppliedPages(t),t.forEach(function(e){return function(e){var t=e.pageId;!function(e,t){e.forEach(function(e){return function(e,t){var n={pageId:t,dataCollectionName:e.name},r=b(e);!function(e,t,n,r){function i(e){void 0===e&&(e=void 0),_(t,n,e,r)}switch(e.type){case u.Type.OnLoad:i();break;case u.Type.Interaction:!function(e,t,n){try{var r=function(e){return function(t){return e(t.currentTarget)}}(n),i=document.querySelectorAll(e);if(0===i.length)throw Error("Can't add selector to event. Selector does not exist: "+JSON.stringify(e));for(var o=0;o<i.length;o++){var a=i[o];h.ProfileTagEventListener.addEventListener(a,t,r,!1)}}catch(e){DOMException,c.warn(e)}}(e.domElement,e.domElementEvent,i);break;case u.Type.InView:!function(e,t){E.createObserverForElement(document,e.domElement,e.options||{root:null,rootMargin:"0px",threshold:.8},function(e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.isIntersecting&&(t(o.target),E.unobserve(n,o.target))}})}(e,i);break;case u.Type.EventLayer:break;default:c.warn("unknown trigger type")}}(e.trigger,e.schema,r,n)}(e,t)})}(e.mappings.filter(function(e){return"custom_mapping"===e.type}),t)}(e)}),[2]})})}function b(e){return function(t){var n={};return n.schema=e.schema,e.selectors.forEach(function(r){var i,o=function(e,t,n){try{var r=d.DataCollectionFactory.createDataCollection(e.type,n);return r.getValue({element:t,selector:e.selector,selectorStrategy:e.strategy})}catch(e){return void c.warn(e)}}(r,t,e.trigger);if(Array.isArray(o)){i=[];for(var a=0,s=o;a<s.length;a++){var u=s[a];i.push(v.applyPostProcessingFunction(u,r))}}else i=v.applyPostProcessingFunction(o,r);n[r.key]=i}),n}}function _(e,t,n,r){var i=t(n);try{switch(e){case y.default.KEYWORD_SCHEMA:o.updatePhrases(i.searchTerm),l.sendPiwikSiteSearchEvent(i,r);break;case y.default.PRODUCT_DETAILS_PAGEVIEW_SCHEMA:l.sendPiwikCommerceEvent(i,r);break;case y.default.CATEGORY_PAGEVIEW_SCHEMA:l.sendPiwikCategoryViewEvent(i,r);break;case y.default.DOWNLOAD_SCHEMA:l.sendDownloadEvent(i,r);break;case y.default.ADDTOCART_SCHEMA:case y.default.CHANGE_QUANTITY_IN_CART_SCHEMA:l.sendAddToCartEvent(i,r);break;case y.default.REMOVE_FROM_CART_SCHEMA:l.sendRemoveFromCartEvent(i,r);break;case y.default.CART_SNAPSHOT_SCHEMA:case y.default.CAROUSEL_CLICK_SCHEMA:case y.default.CAROUSEL_IMPRESSION_SCHEMA:f.sendSlimEvent(i,r);break;default:l.sendPiwikPageViewEvent(i,r)}}catch(t){c.warn("Could not send event for schema "+e+"\n"+t)}}t.start=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return t=e||s.INJECTOR.getInstance(a.CONFIGURATION_SERVICE_TOKEN),o=s.INJECTOR.getInstance(m.RECENT_SEARCHES_TOKEN),w(t),[2]})})},t.stop=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return h.ProfileTagEventListener.removeEventListenersFromElements(),E.removeIntersectionObservers(),[2]})})},t.applyMappings=w,t.generateFunctionForDataSelection=b,t.makeRequest=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendRemoveFromCartEvent=t.sendAddToCartEvent=t.sendOutlinkEvent=t.sendDownloadEvent=t.sendPiwikPageViewEvent=t.sendPiwikCategoryViewEvent=t.sendPiwikCommerceEvent=t.sendPiwikSiteSearchEvent=void 0;var r=n(38);t.sendPiwikSiteSearchEvent=function(e,t){o(e,["searchTerm","productCategory","numResults"]),e.numResults=Number.parseInt(e.numResults,10)>=0?e.numResults:"0",r.prepare(e,t),r.sendPiwikSiteSearchEvent(e.searchTerm,e.productCategory,e.numResults),r.restore()},t.sendPiwikCommerceEvent=function(e,t){o(e,["productSku","productName","productCategory","productPrice"]),r.prepare(e,t),r.sendPiwikCommerceEvent(e.productSku,e.productName,e.productCategory,e.productPrice),r.restore()},t.sendPiwikCategoryViewEvent=function(e,t){o(e,["productCategory"]),r.prepare(e,t),r.sendPiwikCategoryViewEvent(e.productCategory),r.restore()},t.sendPiwikPageViewEvent=function(e,t){r.prepare(e,t),r.sendPiwikPageViewEvent(),r.restore()},t.sendDownloadEvent=function(e,t){o(e,["downloadUrl"]),r.prepare(e,t),r.sendDownloadEvent(e.downloadUrl),r.restore()},t.sendOutlinkEvent=function(e,t){o(e,["outlinkUrl"]),r.prepare(e,t),r.sendOutlinkEvent(e.outlinkUrl),r.restore()},t.sendAddToCartEvent=function(e,t){o(e,["productQty","productSku","cartId"]),r.prepare(e,t),r.sendPiwikCartUpdate({productSku:e.productSku,qty:e.productQty,cartId:e.cartId}),r.restore()},t.sendRemoveFromCartEvent=function(e,t){o(e,["productSku","cartId"]),r.prepare(e,t),r.sendPiwikCartUpdate({productSku:e.productSku,qty:0,cartId:e.cartId}),r.restore()};var i=Object.prototype.hasOwnProperty;function o(e,t){var n=[];if(t.forEach(function(t){i.call(e,t)||n.push(t)}),n.length>0)throw Error("Following attributes are missing in _profile_custom: "+n.join(", "))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getVisitorId=t.sendCustomInteraction=t.addCustomMappingToDataStructure=t.sendPiwikCartUpdate=t.sendLinkOrDownloadEvent=t.sendOutlinkEvent=t.sendDownloadEvent=t.sendPiwikCategoryViewEvent=t.sendPiwikSiteSearchEvent=t.sendPiwikPageViewEvent=t.sendPiwikCommerceEvent=t.tracker=t.restore=t.prepare=t.data=void 0;var o=n(2),a=n(3),s=n(0),c=n(1),u=n(5),l=n(4),f=n(6);t.data={};var d,h,p={event:void 0,pageId:void 0,dataCollectionName:void 0};function g(){if(void 0===h){var e=s.config.siteId||s.config.tenant;(h=window.Piwik.getTracker(s.config.basePiwikUrl,e)).setCustomRequestProcessing(m),h.setSiteId(e),h.setTrackerUrl(s.config.basePiwikUrl),h.setDocumentTitle("PageViewEvent"),c.info("Piwik ID: "+y())}return h}function v(e,n){Object.keys(n).forEach(function(e){t.data[e]=n[e]})}function y(){return g().getVisitorId()}function m(e){var n=function(e){for(var t=e.split("&"),n={},r=0,i=t;r<i.length;r++){var o=i[r],a=o.split("=");n[a[0]]=decodeURIComponent(a[1]?a[1].replace(/\+/g," "):a[1])}n.date=(new Date).getTime(),n.action_name||(n.action_name=function(e){if(e.ec_items)return e.ec_items.split(",")[4].includes('"0"')?"RemoveFromCart":"AddToCartEvent";return"PageViewEvent"}(n));return n}(e);n._profile_custom=t.data,function(e,t){r(this,void 0,void 0,function(){var n,r,d,h,p;return i(this,function(i){n=o.INJECTOR.getInstance(a.CONSENT_REFERENCE_TOKEN);try{r={url:s.config.basePiwikUrl+"clickstreamEvents",headers:{"Content-Type":"application/json",Accept:"application/json","consent-reference":n.readConsentReference(),"event-type":"piwik",site:s.config.siteId},body:JSON.stringify(e)},d=t.event,h=t.pageId,p=t.dataCollectionName,u.post(r,function(e,t,n){try{if(e&&403===e.status)return void c.log("No granted consent found for the specified consent reference, tenant and site.");var i=l.getTracingId(n);c.log("["+h+"] ["+p+"] Tracing ID: "+i),c.isDebugEnabled()&&f.EventLayerLogic.addDebugInfo(d,r,n,i)}catch(e){c.warn(e)}})}catch(e){c.warn("Could not create request: "+e.message)}return[2]})})}(n,p)}t.prepare=function(e,n){d=t.data,t.data=e,p=n},t.restore=function(){t.data=d,p={event:void 0,pageId:void 0,dataCollectionName:void 0}},t.tracker=g,t.sendPiwikCommerceEvent=function(e,t,n,r){g().setEcommerceView(e,t,n,r),g().trackPageView("ProductDetailPageViewEvent")},t.sendPiwikPageViewEvent=function(){g().trackPageView("PageViewEvent")},t.sendPiwikSiteSearchEvent=function(e,t,n){g().trackSiteSearch(e,t,n),g().setCustomData("categoryName",t)},t.sendPiwikCategoryViewEvent=function(e){g().setEcommerceView(!1,!1,e),g().trackPageView("CategoryPageViewEvent")},t.sendDownloadEvent=function(e){g().trackLink(e,"download")},t.sendOutlinkEvent=function(e){g().trackLink(e,"link")},t.sendLinkOrDownloadEvent=function(e,t){g().trackLink(e,t),g().trackPageView("PageViewEvent")},t.sendPiwikCartUpdate=function(e){var t=e.productSku,n=e.qty,r=e.cartId;g().setEcommerceView(t,void 0,void 0,void 0),g().addEcommerceItem(t,void 0,void 0,void 0,""+n),g().setCustomVariable(1,"ec_id",r,"page"),g().trackEcommerceCartUpdate("0")},t.addCustomMappingToDataStructure=v,t.sendCustomInteraction=function(e,t){v(0,t),g().trackPageView("PageViewEvent")},t.getVisitorId=y},function(e){e.exports=JSON.parse('{"type":"custom_mapping","name":"Cart Snapshot","schema":"context/commerce/cartSnapshot","trigger":{"type":"event-layer","eventLayerEvent":"CartSnapshot"},"selectors":[{"key":"productSkus","type":"event_object","postProcessing":[{"func":"map_get","params":"product"},{"func":"map_get","params":"code"}],"selector":"cart.entries"},{"key":"cartId","type":"event_object","selector":"cart.code"}]}')},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeSlimRequest=t.sendSlimEvent=void 0;var o=n(2),a=n(3),s=n(0),c=n(1),u=n(5),l=n(4),f=n(6);function d(e,t,n){return r(this,void 0,void 0,function(){var r,d,h,p,g;return i(this,function(i){try{r=o.INJECTOR.getInstance(a.CONSENT_REFERENCE_TOKEN),d={url:s.config.basePiwikUrl+"clickstreamEvents",headers:{"Content-Type":"application/json",Accept:"application/json","consent-reference":r.readConsentReference(),"hybris-schema":t,"hybris-event-time":(new Date).toISOString(),site:s.config.siteId},body:JSON.stringify(e)},h=n.event,p=n.pageId,g=n.dataCollectionName,u.post(d,function(e,t,n){try{if(e&&403===e.status)return void c.log("No granted consent found for the specified consent reference, tenant and site.");var r=l.getTracingId(n);c.log("["+p+"] ["+g+"] Tracing ID: "+r),c.isDebugEnabled()&&f.EventLayerLogic.addDebugInfo(h,d,n,r)}catch(e){c.warn(e)}})}catch(e){c.warn("Could not create request: "+e.message)}return[2]})})}t.sendSlimEvent=function(e,t){var n=e.schema;return delete e.schema,d(e,n,t)},t.makeSlimRequest=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataCollectionConfig=t.DataCollectionFactory=void 0;var r=n(42),i=n(43),o=n(44),a=n(45),s=n(46),c=n(47),u=n(48),l=n(50),f=n(51),d=n(14),h=n(52),p=function(){function e(){}return e.createDataCollection=function(e,t){switch(e){case f.SelectorType.Cookie:return new i.Cookie;case f.SelectorType.Html:return new r.HTML;case f.SelectorType.Text:return new o.InnterText;case f.SelectorType.JsVariable:return new c.WindowObject;case f.SelectorType.Constant:return new l.Constant;case f.SelectorType.Dom:return new a.DomElement;case f.SelectorType.Gtm:return new u.GTM;case f.SelectorType.EventObject:return t.type===d.Type.EventLayer?new h.EventLayerEvent:new s.EventObject;default:throw Error("Selector Type "+e+" does not exist")}},e}();t.DataCollectionFactory=p;var g=function(){};t.DataCollectionConfig=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.HTML=void 0;var o=n(15),a=n(8),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getAllElements=function(e,t){var n,r=[];if(void 0!==t)try{n=Array.from(t.querySelectorAll(e))}catch(e){throw new a.MatchAllError}else n=this.getQuerySelectorAll(e);for(var i=0,o=n;i<o.length;i++){var s=o[i];r.push(s.innerHTML)}return r},t.prototype.getValue=function(e){var t=e.selector,n=e.selectorStrategy,r=e.element;switch(n){case o.SelectorStrategy.MatchAll:return this.getAllElements(t,r);case o.SelectorStrategy.FirstParent:try{return r.closest(t).innerHTML}catch(e){throw new a.FirstParentStrategyError}case o.SelectorStrategy.ClosestElement:return this.getClosestElement(t,r).innerHTML;case o.SelectorStrategy.First:return this.getQuerySelector(t).innerHTML;case o.SelectorStrategy.FirstChild:default:if(void 0!==r)try{return r.querySelector(t).innerHTML}catch(e){throw new a.FirstChildStrategyError}return this.getQuerySelector(t).innerHTML}},t}(n(16).DomCollection);t.HTML=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cookie=void 0;var r=n(12),i=function(){function e(){}return e.prototype.getValue=function(e){var t=e.selector;return r.read(t)},e}();t.Cookie=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InnterText=void 0;var o=n(15),a=n(8),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getAllElements=function(e,t){var n,r=[];if(void 0!==t)try{n=Array.from(t.querySelectorAll(e))}catch(e){throw new a.MatchAllError}else n=this.getQuerySelectorAll(e);for(var i=0,o=n;i<o.length;i++){var s=o[i];r.push(s.textContent)}return r},t.prototype.getValue=function(e){var t=e.selector,n=e.selectorStrategy,r=e.element;switch(n){case o.SelectorStrategy.MatchAll:return this.getAllElements(t,r);case o.SelectorStrategy.ClosestElement:return this.getClosestElement(t,r).textContent;case o.SelectorStrategy.FirstParent:try{return r.closest(t)}catch(e){throw new a.FirstParentStrategyError}case o.SelectorStrategy.First:return this.getQuerySelector(t).textContent;case o.SelectorStrategy.FirstChild:default:if(void 0!==r)try{return r.querySelector(t).textContent}catch(e){throw new a.FirstChildStrategyError}return this.getQuerySelector(t).textContent}},t}(n(16).DomCollection);t.InnterText=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DomElement=void 0;var o=n(15),a=n(8),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getValue=function(e){var t=e.selector,n=e.selectorStrategy,r=e.element;switch(n){case o.SelectorStrategy.MatchAll:if(void 0!==r)try{return Array.from(r.querySelectorAll(t))}catch(e){throw new a.MatchAllError}return Array.from(this.getQuerySelectorAll(t));case o.SelectorStrategy.ClosestElement:return this.getClosestElement(t,r);case o.SelectorStrategy.FirstParent:try{return r.closest(t)}catch(e){throw new a.FirstParentStrategyError}case o.SelectorStrategy.First:return this.getQuerySelector(t);case o.SelectorStrategy.FirstChild:default:if(void 0!==r)try{return r.querySelector(t)}catch(e){throw new a.FirstChildStrategyError}return this.getQuerySelector(t)}},t}(n(16).DomCollection);t.DomElement=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventObject=void 0;var r=n(9),i=function(){function e(){}return e.prototype.getValue=function(e){var t=e.selector;return r.getObjectFromPath(t,event,"event")},e}();t.EventObject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowObject=void 0;var r=n(9),i=function(){function e(){}return e.prototype.getValue=function(e){var t=e.selector;return r.getObjectFromPath(t,window,"window")},e}();t.WindowObject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GTM=void 0;var r=n(49),i=n(0),o=function(){function e(){}return e.prototype.getValue=function(e){var t=e.selector;return r.getDataLayerValue(i.config.gtmId,t)},e}();t.GTM=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataLayerValue=void 0;var r=n(1);t.getDataLayerValue=function(e,t){var n=window.google_tag_manager;if(n)if(e)if(t){var i=n[e];if(i)return i.dataLayer.get(t);r.warn("There is no container for the given gtm id: "+e+".")}else r.warn("The gtm variable key is missing in your selector. Please correct your configuration.");else r.warn("Your are accessing the tag manager data layer attributes but the gtmId is undefined. Please correct your configuration.");else r.warn("The google tag manager is not active. Please correct your configuration")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Constant=void 0;var r=function(){function e(){}return e.prototype.getValue=function(e){return e.selector},e}();t.Constant=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorType=t.Selector=void 0;var r=function(){};t.Selector=r,function(e){e.Cookie="cookie",e.Html="html",e.Text="text",e.JsVariable="js_variable",e.Constant="constant",e.Dom="dom",e.Gtm="gtm",e.EventObject="event_object"}(t.SelectorType||(t.SelectorType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventLayerEvent=void 0;var r=n(9),i=function(){function e(){}return e.prototype.getValue=function(e){var t=e.selector,n=e.element,i=t;return t.startsWith("event.")||t.startsWith("data.")||(i="data."+i),r.getObjectFromPath(i,n,"event")},e}();t.EventLayerEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileTagIntersectionObserver=void 0;var r=function(){function e(e){this.observers=[],this.logger=e}return e.prototype.createObserverForElement=function(e,t,n,r){var i=this,o=new IntersectionObserver(r,n),a=e.querySelectorAll(t);this.logger.info("Using selector "+t+", observing "+a.length+" number of elements"),a.forEach(function(e){o.observe(e),i.observers.push({observer:o,target:e})})},e.prototype.removeIntersectionObservers=function(){for(var e=0,t=this.observers;e<t.length;e++){var n=t[e];n.observer.unobserve(n.target)}this.observers=[]},e.prototype.unobserve=function(e,t){this.logger.info("Unobserving element with tag "+t.tagName);var n=this.observers.findIndex(function(n){return n.observer===e&&n.target===t});n<0||(this.observers.splice(n,1),e.unobserve(t))},e}();t.ProfileTagIntersectionObserver=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMatches=t.printAppliedPages=void 0;var r=n(1),i=n(9);t.printAppliedPages=function(e){e.length<=0?r.info("No page definition is being applied"):(r.info("Applied page definitions:"),e.forEach(function(e){r.info("Page ID: "+e.pageId+" ("+e.selectedRegexObject+" -> "+e.regexValue+")")}))},t.getMatches=function(e){return e.pages.filter(function(e){if(e.selectedRegexObject&&e.regexValue){var t=e.selectedRegexObject,n=i.getObjectFromPath(t,window,"window");return void 0!==n&&new RegExp(e.regexValue).test(n)}return!1})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyPostProcessingFunction=void 0;var r=n(56);t.applyPostProcessingFunction=function(e,t){var n,i=e;if(null==e)return"";try{if("dom"===t.type){var o=function(e,t){if("string"==typeof t&&t.length>0){var n=e.getAttribute(t);return null===n||""===n?"":n}return""}(e,t.attributeValue);i=r.isEmptyOrUndefined(o)?i:o}if(void 0===i)return"";if("object"==typeof i)n=JSON.parse(JSON.stringify(i));else if("number"==typeof i||"boolean"==typeof i)n=i.toString();else if("string"==typeof i)n=i;else{if(i.constructor!==Array)return"unsupported type";n=i.slice()}if("object"==typeof t.postProcessing&&t.postProcessing.length>0&&void 0!==n)for(var a=0,s=t.postProcessing;a<s.length;a++){var c=s[a];n="map_get"===c.func?JSON.parse(JSON.stringify(n))[c.params]:n[c.func](c.params)}return"object"==typeof i?JSON.parse(JSON.stringify(n)):n}catch(e){return""}}},function(e,t,n){"use strict";function r(e){if(null==e)return!0;if("string"!=typeof e)throw new Error("string expected, instead recieved "+typeof e);return""===e}Object.defineProperty(t,"__esModule",{value:!0}),t.isWhiteSpaceOrEmpty=t.isEmptyOrUndefined=void 0,t.isEmptyOrUndefined=r,t.isWhiteSpaceOrEmpty=function(e){return r(e)||0===e.trim().length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.freeze({SITE_SEARCH_SCHEMA:"context/commerce/KeywordSearch",PRODUCT_DETAILS_PAGEVIEW_SCHEMA:"context/commerce/ProductView",CATEGORY_PAGEVIEW_SCHEMA:"context/commerce/CategoryView",CART_SNAPSHOT_SCHEMA:"context/commerce/cartSnapshot",DOWNLOAD_SCHEMA:"context/core/AssetDownloadStarted",KEYWORD_SCHEMA:"context/commerce/KeywordSearch",ADDTOCART_SCHEMA:"context/commerce/AddedToCart",CHANGE_QUANTITY_IN_CART_SCHEMA:"context/commerce/ModifiedCart",REMOVE_FROM_CART_SCHEMA:"context/commerce/RemovedFromCart",CAROUSEL_IMPRESSION_SCHEMA:"context/commerce/carouselViewed",CAROUSEL_CLICK_SCHEMA:"context/commerce/carouselClicked"});t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSite=void 0;var r=n(2),i=n(3),o=n(11),a=n(59),s=n(60),c=n(13),u=n(21),l=n(6);t.getSite=function(e,t,n,f){return t.spa?new s.SinglePageApp(e,n,f,new l.EventLayerLogic(e,n),r.INJECTOR.getInstance(c.CONFIGURATION_SERVICE_TOKEN),r.INJECTOR.getInstance(o.EVENT_DISPATCHER_TOKEN),r.INJECTOR.getInstance(u.CONSENT_LISTENER_TOKEN),r.INJECTOR.getInstance(i.CONSENT_REFERENCE_TOKEN)):new a.MultiPageApp(e,n,f,new l.EventLayerLogic(e,n),r.INJECTOR.getInstance(c.CONFIGURATION_SERVICE_TOKEN),r.INJECTOR.getInstance(o.EVENT_DISPATCHER_TOKEN),r.INJECTOR.getInstance(u.CONSENT_LISTENER_TOKEN),r.INJECTOR.getInstance(i.CONSENT_REFERENCE_TOKEN))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPageApp=void 0;var o=n(20),a=n(7),s=n(5),c=function(){function e(e,t,n,r,i,o,a,s){this._profileTag=e,this._logger=t,this._eventLayer=n,this._eventLayerLogic=r,this._configuration=i,this._eventDispatcher=o,this._consentListener=a,this._consentReferenceService=s,this._originalPush=this._eventLayer.push,this._eventLayer.push=this.push.bind(this)}return e.prototype.push=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this._originalPush.call(this._eventLayer,e),this._eventLayer.length>this._configuration.maxEvents&&this._eventLayer.shift(),[4,this.processPushEvent(e)];case 1:return t.sent(),[2]}})})},e.prototype.processPushEvent=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this._consentListener.checkConsent(e)];case 1:return t.sent(),this.isConsentGranted()&&e.name!==a.PushEventNames.CONSENT_CHANGED&&this._eventLayerLogic.pushGenericEventWithConfig(e,this._configuration),[2]}})})},e.prototype.startTracking=function(){return r(this,void 0,void 0,function(){var e=this;return i(this,function(t){switch(t.label){case 0:return s.retryAll(),"loading"!==document.readyState?[3,1]:(document.addEventListener("DOMContentLoaded",function(){return r(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.startProfileTag()];case 1:return e.sent(),[2]}})})}),[3,3]);case 1:return[4,this.startProfileTag()];case 2:t.sent(),t.label=3;case 3:return window.addEventListener("hashchange",function(){return r(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.startProfileTag()];case 1:return e.sent(),[2]}})})}),[2]}})})},e.prototype.isConsentGranted=function(){return this._consentReferenceService.consentReferenceCookieExists()},e.prototype.startProfileTag=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.isConsentGranted()?[4,this._consentReferenceService.healCRCookieIfInvalid(this._consentReferenceService.readConsentReference())]:[3,2];case 1:e.sent(),e.label=2;case 2:return[4,this.pushInitialEvents()];case 3:return e.sent(),this._eventDispatcher.dispatchProfileTagLoaded(),this._eventDispatcher.enableDispatching(),this._consentListener instanceof o.PushEventConsentListener?[3,5]:[4,this._consentListener.checkConsent()];case 4:e.sent(),e.label=5;case 5:return this.isConsentGranted()&&this._profileTag.start(this._configuration),[2]}})})},e.prototype.pushInitialEvents=function(){return r(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:if(!Array.isArray(this._eventLayer)||!this._eventLayer.length)return[3,4];e=0,t=this._eventLayer,r.label=1;case 1:return e<t.length?(n=t[e],[4,this.processPushEvent(n)]):[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},e}();t.MultiPageApp=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SinglePageApp=void 0;var o=n(7),a=n(5),s=n(0),c=function(){function e(e,t,n,r,i,o,a,s){this._profileTag=e,this._logger=t,this._eventLayer=n,this._eventLayerLogic=r,this._configuration=i,this._eventDispatcher=o,this._consentListener=a,this._consentReferenceService=s,this.alreadyStarted=!1,this._enabled=!1,this._originalPush=this._eventLayer.push,this._eventLayer.push=this.push.bind(this),this._consentGranted=this._consentReferenceService.consentReferenceCookieExists()}return e.prototype.push=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return e.name!==o.PushEventNames.NAVIGATED?[3,2]:[4,this.loadProfileTag("Navigated")];case 1:return t.sent(),[2];case 2:return this._originalPush.call(this._eventLayer,e),this._eventLayer.length>s.config.maxEvents&&this._eventLayer.shift(),[4,this.processPushEvent(e)];case 3:return t.sent(),[2]}})})},e.prototype.processPushEvent=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,this._consentListener.checkConsent(e)];case 1:return(t=n.sent())===this._consentGranted?[3,4]:(this._consentGranted=t,this._consentGranted?[4,this.loadProfileTag("Consent Changed")]:[3,3]);case 2:return n.sent(),[3,4];case 3:this.stopProfileTag(),n.label=4;case 4:return this._consentGranted&&e.name===o.PushEventNames.CONSENT_CHANGED?[4,this._consentReferenceService.healCRCookieIfInvalid(this._consentReferenceService.readConsentReference())]:[3,6];case 5:n.sent(),n.label=6;case 6:return this._consentGranted&&e.name!==o.PushEventNames.CONSENT_CHANGED&&this._eventLayerLogic.pushGenericEventWithConfig(e,this._configuration),[2]}})})},e.prototype.startTracking=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return a.retryAll(),this._enabled=!0,[4,this.pushInitialEvents()];case 1:return e.sent(),this._eventDispatcher.dispatchProfileTagLoaded(),this._eventDispatcher.enableDispatching(),[2]}})})},e.prototype.loadProfileTag=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this._consentGranted&&this._enabled?(this._logger.info("Starting profiletag tracking! Triggering action: "+e+" "),this.alreadyStarted&&this.stopProfileTag(),[4,this.startProfileTag()]):[2];case 1:return t.sent(),[2]}})})},e.prototype.startProfileTag=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return this.alreadyStarted=!0,this._consentGranted&&this._profileTag.start(this._configuration),[2]})})},e.prototype.stopProfileTag=function(){this.alreadyStarted=!1,this._profileTag.stop()},e.prototype.pushInitialEvents=function(){return r(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:if(!Array.isArray(this._eventLayer)||!this._eventLayer.length)return[3,4];e=0,t=this._eventLayer,r.label=1;case 1:return e<t.length?(n=t[e],[4,this.processPushEvent(n)]):[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},e}();t.SinglePageApp=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentSearchServiceImpl=void 0;var r=n(0),i=function(){function e(){}return e.prototype.addListener=function(e){this.searchPhraseListener=e},e.prototype.removeListener=function(){this.searchPhraseListener=void 0},e.prototype.getPhrases=function(){return JSON.parse(localStorage.getItem(this.getPhrasesKey())||"[]")},e.prototype.updatePhrases=function(e){var t=localStorage.getItem(this.getPhrasesHistorySizeKey())||40,n=this.getPhrases();(n=n.filter(function(t){return t!==e})).unshift(e),n=n.slice(0,t),this.savePhrasesHistory(n)},e.prototype.removePhrase=function(e){var t=this.getPhrases().filter(function(t){return t!==e});this.savePhrasesHistory(t)},e.prototype.clearPhrases=function(){this.savePhrasesHistory([])},e.prototype.savePhrasesHistory=function(e){localStorage.setItem(this.getPhrasesKey(),JSON.stringify(e)),this.searchPhraseListener&&this.searchPhraseListener(e)},e.prototype.getPhrasesKey=function(){return r.config.siteId+"-recentSearchHistory"},e.prototype.getPhrasesHistorySizeKey=function(){return r.config.siteId+"-recentSearchHistorySize"},e}();t.RecentSearchServiceImpl=i}]);